(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/HHy":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRouteData=void 0;var n=a("SsW3"),i=a("axR1"),r=a("u7XG"),o=a("Tqq3"),s=r.config.colorToObjMap,l=r.config.proxyUrl,A=r.config.colorToRouteMap,d="https://lapi.transitchicago.com/api/1.0/routes.aspx?outputType=JSON";function c(e){return l+d+e}function u(t,a,r,l,d){if(!["station","system"].includes(r))throw"Unknown type passed to: `forObject`!";void 0!==d&&e.ajax({url:t,type:"GET",async:!0}).done(function(t){var d=void 0;Array.isArray(t.CTARoutes.RouteInfo)?d=t.CTARoutes.RouteInfo:t.CTARoutes.RouteInfo&&(d=[t.CTARoutes.RouteInfo]);var c=n.arrivalsStorage.fetchStationDataFor(o.helpers.selectedCommute()).activeLines;e.each(c,function(t,a){e("select.settings."+l+"-train-filter").append(e("<option value='"+a+"'>"+s[a].name+"</option>"))}),e(d).each(function(t,n){var i=void 0,o=0;if("station"===r){o+=1;var l=A[n.RouteColorCode.toLowerCase()],d=s[l];if(void 0===l||void 0===d)throw"Look at keys in colorToRouteMap or colorToObjMap, a key is likely missing";c.includes(s[l].routeId)&&(i="\n            <li class='route-data filter-"+d.routeId+"'>\n              <img class='train-icon' src='"+d.icon+"' height='80' width='80' />\n              <b>\n                <a target='_blank' href='"+d.routeUrl+"' style='color: #"+n.RouteColorCode+";'>"+n.RouteStatus+"</a>\n              </b>\n            </li>")}else"system"===r&&"000000"!==n.RouteColorCode&&null!==n.RouteColorCode&&(o+=1,e(".system-overall.hidden").removeClass("hidden"),i="<li class='routedata'><b style='color: #"+n.RouteColorCode+";'>"+n.Route+" - "+n.RouteStatus+"</b></li>");0<o&&e("ul."+a).append(i)});var u=i.settingsStorage.lineFilterSetting(l);e("select.settings."+l+"-train-filter").val(u),i.settingsStorage.handleShowHideRoutes(l,u)}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}t.fetchRouteData=function(e){var t=void 0,a=e.printAm,i=e.printPm;if(a){if(void 0===(t=n.arrivalsStorage.fetchStationDataFor("am").stationid))return;u(c("&stationid="+t),"routedata-am","station","am",t)}if(i){if(void 0===(t=n.arrivalsStorage.fetchStationDataFor("pm").stationid))return;u(c("&stationid="+t),"routedata-pm","station","pm",t)}u(c("&type=systemwide"),"system-overall","system",t)}}).call(this,a("EVdn"))},"0d1/":function(e,t,a){},"0qHD":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a={setArrived:function(){e(".boarded-wrapper").removeClass("animate-boarded"),e(".boarded-wrapper").addClass("boarded-arrived"),e(".boarded-wrapper").removeClass("hidden")},showRideBanner:function(){e(".boarded-wrapper").removeClass("boarded-arrived"),e(".boarded-wrapper").addClass("animate-boarded"),e(".boarded-wrapper").removeClass("hidden")}};t.followersHelper=a}).call(this,a("EVdn"))},"1A/C":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAASFBMVEX////08vjUy+O0o8+plsjq5fGUfbpULpGKcLTf2OrJvdxfO5i/sNZpSJ9/Yq10Vaaql8i0pM/Uy+S/sdaJb7OUfLrKvt2ficGhPo1gAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALtSURBVFjD7ZnRgqMgDEVluo7jWBEQ9P//dAyoRQgEWh/3PrWCRwwXCNg0IPb1+PehHl+sOdR+d7fop3e83+Ee3qYn8Hqy2sh3TWTV3w04pjlCqr4J1KtZ6OQ9A2ueeMkk2yajdtb4fY8G65BBZGlOTGLt5A2PL2pG46wEEicEqAtxODEGDlH7lDgURWIsAJpMOxTdxBgooaI8zD6IK5Dpw5R8gcYXAKEVrfe/vwClFxt4ciFQXf4L9HfXtWVAeO5cBFRYr+BAUQzkJHAC4FoEhO7TJJA3wXPTQIH5JgKacuBaBBShGdJAjhkxAsq7gSqcxNPAIRgCaaAqA3bYUImALPB1Dgh1BwoYzSEZIObs8MIY+vpTYOTrHFAiRgyBugYoCoCRr3PANezAT4GYs0MgzOusBtgTQLsMmetNPrD1faejp8fA2WUa6lAbrXpnkct7qFcW2eVcxYUUcK0FSgLIa4GUD6uBhgB2tUBqLO9Apc02NwmbbgTA1pitexctXFI1UUCbYIHbuAUtEXCEBA361mVVHQVUpxdskQiBds5XcGkoAy7XFqqohdPRQuuwngQ6Z/cGQjRrJIZsNS0EWaK+TgGvgyGdwUazVyIVKRedOdwOHOuAdDrX3Q4s3fU4DTRQHcGZOMc3vlvBGequAqgabN/mahzAtgAoa4Al+xRxN1DXAEu2ZkPvAbmINb6ArGTz2A3qBRSY9U5gixxCoG81CaVMHjgptRjk1i4Rpj1U6VdOigAmO+U/sAhotvinCt4BwrKLA2VzTRMp4GSPKGAELhwVFPWp07WSY5aMDA2s4iHEEFjJo7Ov1Y4uWFfYPtI0FkabikssjGgvz/hU58kekDHsxBMDGny1iOsg0+EVKN12wS0/Ki+vkkwB59oOOeRlTKN3ZLq+y/OJ/HWoW20YX+tBeZzj9SPeaXDo/T2pdSN4P7Y2qSzkInVhWcHBuH90L6Ig5zS52p4dn+7K2x8X3Fvxw40/r2P5Gz9//AHqnJnSD74HIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowNC0wNjowMHNj+NUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},"1Tf0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={hour:"numeric",minute:"numeric",hour12:!0},i={parseCtaTime:function(e){var t=e.split("T"),a=t[0].split("-"),n=t[1].split(":");return new Date(a[0],a[1]-1,a[2],n[0],n[1],n[2])},printDate:function(e){return!0==(this.parseCtaTime(e).setHours(0,0,0,0)===(new Date).setHours(0,0,0,0))?"Today":this.parseCtaTime(e).toLocaleDateString(navigator.language)},printPlainDate:function(e){var t=new Date(e);return[("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2),t.getFullYear().toString().substr(-2)].join("/")},printTime:function(e){return this.parseCtaTime(e).toLocaleTimeString(navigator.language,n).replace(/(:\d{2})$/,"")},printPlainTime:function(e){return new Date(e).toLocaleTimeString(navigator.language,n).replace(/(:\d{2})$/,"")},calcPercentChange:function(e,t){return(this.getTimeDiff(e,t)/e.getTime()*100*60*1e3*100).toFixed(2)},getTimeDiff:function(e,t){return e.getTime()-t.getTime()}};t.timeHelper=i},"1Yv4":function(e,t,a){},"26kM":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAlertData=void 0;var n=a("axR1"),i=a("SsW3"),r=a("VpB4"),o=a("XKyZ"),s=a("u7XG"),l=a("N5v+"),A=s.config.proxyUrl,d=a("8v78"),c="https://lapi.transitchicago.com/api/1.0/alerts.aspx?outputType=JSON";function u(e){return A+c+e}var g={am:[],pm:[]};function p(t,a,n){i.arrivalsStorage.fullCommuteSet()&&e.ajax({url:t,type:"GET",async:!0}).done(function(t){var i=t.CTAAlerts.Alert;e(i).each(function(t,i){var s=void 0,A=i.SeverityColor,c=parseInt(i.SeverityScore,10)>r.alertsStorage.alertSeverityThreshold()?"":"hidden";"000000"===A&&(A="999");var u="\n        <div id='alert-details-modal-"+i.AlertId+"' class='alert-details-modal hidden'>\n          <div class='alert-details-modal-inner'>\n            <h2>Alert Details</h2>\n            <hr>\n            <div class='alert-full-description '>"+i.FullDescription["#cdata-section"]+"</div>\n          </div>\n        </div>",p="\n        <span>\n          <a class='alert-details-trigger' href='#alert-details-modal-"+i.AlertId+"' rel='modal:open'>Alert Details</a>\n        </span>";g[n].includes(i.AlertId)||(g[n].push(i.AlertId),s="\n          <li data-alert-id='"+i.AlertId+"' data-sev='"+i.SeverityScore+"' class='alertbox alertbox-"+i.AlertId+" "+c+" "+o.alertsHelper.alertMuteClass(i)+"' style='background-color: #"+A+";'>\n            <a style='color: white;' href='"+i.AlertURL["#cdata-section"]+"' target='_blank' title='Link to CTA alert page'>\n              <h2>"+i.Headline+"</h2>\n            </a>\n            "+o.alertsHelper.printEventDetails(i)+"\n            <span class='sev-score' title='"+(0,l.getSeverityFromSevScore)(i.SeverityScore,"explainer")+"'></span>\n            <img src='"+d+"' class='icon close-icon'/>\n            <p>"+i.ShortDescription+"</p>\n            <div class='impact-details'>\n            <p><b>Impacting:</b> "+o.alertsHelper.printImpactedLines(i)+"</p>\n            </div>"+u+p+"\n          </li>"),e("ul."+a).append(s),0<e("."+a).find("li.alertbox").not(".hidden").length?e("."+a+".hidden").removeClass("hidden"):e("."+a).addClass("hidden")}),e("img.close-icon").off("click"),e("img.close-icon").click(function(){var t=e(this).parent().data().alertId,a=e(this).parent().data().sev;r.alertsStorage.muteAlert(t,a),e(this).parent().remove()}),o.alertsHelper.readAlertDetailsSetting()}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}t.fetchAlertData=function(e){var t="&activeonly=true&accessibility="+n.settingsStorage.getSetting("accessibilitySetting"),a=e.printAm,r=e.printPm;if(a){var o=[i.arrivalsStorage.fetchStationDataFor("am").stationid,i.arrivalsStorage.fetchDestinationStationDataFor("am").stationid];if(0===o.join(",").replace(/,/,"").length)return;o.forEach(function(e){p(u(t+"&stationid="+e),"station-alerts-am","am")});var s=i.arrivalsStorage.fetchStationDataFor("am").activeLines||[];if(0===s.length)return;p(u(t+"&routeid="+s.join()),"system-alerts","am")}if(r){var l=[i.arrivalsStorage.fetchStationDataFor("pm").stationid,i.arrivalsStorage.fetchDestinationStationDataFor("pm").stationid];if(0===l.join(",").replace(/,/,"").length)return;l.forEach(function(e){p(u(t+"&stationid="+e),"station-alerts-pm","pm")});var A=i.arrivalsStorage.fetchStationDataFor("pm").activeLines||[];if(0===A.length)return;p(u(t+"&routeid="+A.join()),"system-alerts","pm")}}}).call(this,a("EVdn"))},"32mN":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAQlBMVEX////18vHYzca6p5uwm43r5uOdgnFiNxyTdmPh2dTOwLhsRCrEtKp2UDiJaVV/XUexm466qJzi2tT18/HOwbinj396FHPnAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALoSURBVFjD7ZnbgqsgDEVpekRmUAQv//+rR6BahECg9XH2Uyu4xLCBgIxZPeD570s94cEOdby/ReLH837lPbxdg+X9kNVG9dJEVv3dgWOeow3MLNIMgxbZe+SDDXjJZDpWUDcI/L4nwzpE6iLNazFYOxVT6UWx0DgnjcQJAYpKHE5MgTJpH+hDSSTGCiAvtAPoJqZAYyuaw+xSX4GLOEypVtv4CqBtRRf8ny9AE8TGPrkSCJf/Gv3d910d0D53qAIC1is4UFcDFQmcLHCrAtruEyRQsei5eaDGfJMAeT1wqwLq2Ax5oMKMmADN3UDbdXMdUEZDIA+EOmCPDZUEuES+LgFtXUkBkzmkAMScHV8YY19/C0x8XQIaxIgxULQAdQUw8XUJuMUd+C0Qc3YMtPP60gKcCaBbhvj1phDYhb4TydNT4OAzDTjUJaveWeTzHuqVdXE5h7SQAm6tQEMAVSuQ8mEzkBPAvhVIjeUXEATf5ybt0o0I2HG+d+8qtE+qJgroEizrNuVAawIcbYJm+9ZnVT0FhNMLrkjHQDfng70k64DrtYWQtHA6WugcNpNA7+yZ2xANAonhsvHOBtmgvs4Br4Mhn8Gmmwg8FakXnTncDhzbgHQ6198OrN31eEkaCEdwJqXwje9ecIa6bwACw/ZtvsYB7CqApgVYs0/RdwNFC7BmaybnAKh0qvENXGo2j72EN1Bj1juBHXIIgb7VpAF4GTgBrOjpTCZMr1DlXzkrApjtlD9gFZDv8c8VfAK0yy4ONOyaJlLAyR1R2BG4KlS2aM6drtUcsxTEaWATDyHGwEYenX1tbnTZdWV5jTSBhdGl4gYLI9rLAz7VBXIHZAt24okBOb5apHWQ6fAKNH674JcfKCuoZHLAobVDDgUZ0xj0+/YpLySq9+9mw4Q6t+zPc7x+xTsNLh/nwbgfwa9ja57LQi6CC8vJHoyHR/c6CXJJk68d2PHVrR9/XPBvpQ43Hh8X2K2fP/4DqlyN7WEfNngAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMDZUMTI6Mjc6MDAtMDY6MDCHLNzGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTEzVDE4OjM2OjMzLTA1OjAwUF+HnQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},"4iSt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={CtaStorage:window.location.href.match(/github.io/)?window.localStorage:window.sessionStorage,allKeys:function(){return Object.keys(this.CtaStorage)},storageEmpty:function(){return 0===this.allKeys().length},clear:function(){this.CtaStorage.clear()}};t.storageBase=n},"5EEt":function(e,t,a){},"7BZG":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAARVBMVEX////+9PH70cj4r5/3pJH96OT2jnbwSST1gmn83db6xrrxVDL5uq3yYD/0d1vza034pJL70sj5u631gmj2jXb6xrv3mYQKNvCmAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALrSURBVFjD7Zlho6wQEIZz3G6n4yQT9f9/6g3VimHY7eN9P+1GTxovhrrOin3xPx+Kf7HuVP93eETfo+f9iGd4u34tbySrTfLQTFb92YFTnqM4jF2kERals/cI1v3iJTPvu4L6ReP38Q7rEKGKNC/GsXbKTqYXNaNxTgqJEwLUlTicmAJF0j5Qp5JITBVAU2gH0E1MgdxW5KfZhboDmT5NKVfb+AqgbUUf/B9vQB7Exj65Egi3/wr9PQx9HdA+d6kCAtYrOFBVAyUJnC1wqwLa7tMkUHbRc/NAhfkmAZp64FYFVLEZ8kCJGTEB8qeBEE/ieaCIhkAeCHXAARsqCZBFvi4BbV1BAZM5pADEnB1fmGJffwpMfF0CcsSIMVC3AFUFMPF1CbjFHfgpEHN2DLTzOmsBjgTQLUPmflMI7EPf6eTpKXDxmQac6pNV7yryeQ/1yqq4nENaSAG3ViAngLIVSPmwGWgI4NAKpMbyAQRt9rlJuXQjAvbG7N27auWTqpkCugTLuk060JoAJ5ug2b71WdVAAeHygitSMdDN+WAviTrgem8hJC2czxY6h40k0Dt7NDZEi0ZiyDbT2yBz1Nc54H0w5DPYZPbKpCL1ojOHx4FTG5BO54bHgbW7Hi9BA+EMziwlvvHdC65QDw1A6LB9m69xAvsKIG8B1uxT1NNA3QKs2ZqJMQBKlWp6AVnN5nEQ8AIqzHoXsEcOIdC3mhWAKQNngNUgtw6ZMB2hyr9yVgQw2yn/gVVAs8c/V/AO0C67OJB39zSRAs7uiMKOwFWiskVj7nSt5pilIEMDm3gIMQY28ujsa3Ojy64r7BhpGgujS8U5Fka0lxd8qgvkDsgYduKJAQ2+WqR1kOnwDuR+u+CXHygrqMRzwKW1Q04FGdMUHJlu7/JConwd6jYbJtS1ZefXeP2Idxnc9v6R1PoRfBxbm1wWchPcWE72YDw8uldJkEuafe3Ajr/+ytsfF/xbydON369j+Qc/f/wDdJyX9oWvCJ8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMDZUMTI6Mjc6MDQtMDY6MDBzY/jVAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTEzVDE4OjM2OjMzLTA1OjAwUF+HnQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},"7aQF":function(e,t,a){},"81B4":function(e,t){e.exports="data:image/png;base64,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"},"8v78":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAB70lEQVRYCe2WW44TQQxFw2MPwAJgJfyxTkCMRrwkWAzhK6yCx4jxUdeRbkrpSdVHkp9YclfZvr6ucj+qN5urXDtw4Q48Gaz/qHCnwA6Vf9yhWMya9LE+dy1v1f+0RV7U+KZU+xCxPjBgyUHMWayJq4mvKudn6f/Sr6X6LViujXNiYMBuS8lFzFmsgauEEPwqhfB3G7/X6PMATiw+Yondle0ixJXrYfE+PisYu4Dwbxv/tPFbjUnIHB9YMeb8KB9ciNyLtXKV+HXFk5B52hRU+uI9Fi5E7sUauL4vTBbtiT9UHH0I867VGdp9w+616nalwL/mp3jOczHkKlMLICnb9bFsiL2vzNG7ptqJIUdJLn1DYyZ+qgwK9LvN4sbAKsmhb2pMgreVSUF2noXTB0bJXH1741HAHnrsNZq+112NPTMX+Lki7NQ29x3IGFglOfQNjZl49ocw22hxv3DuPDuRc+Ji801IzqEOADr2IbopDJpFXaCLgGNKbP3FPsW2igOEg4Qd+QFyVyc9jGiXXXhZ810pi/A4zuLgxDJ6KIklFw5E3GINXD3zOc+3pSyC10t/Ejon9qVhybG4OeWaE/9k+L3iN0siCyabPjBgn7egHImdmktsks+Ido59rM9N7NQcYnbWFzhEMoM9lH/1nbcD9wbI07aXXJEHAAAAAElFTkSuQmCC"},COMZ:function(e,t,a){},F9z5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{pct:0,color:{r:255,g:0,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:0,g:255,b:0}}];function i(e){return e<0?0:255<e?255:e}t.getColorForPercentage=function(e){var t=void 0;for(t=1;t<n.length-1&&!(e<n[t].pct);t+=1);var a=n[t-1],r=n[t],o=r.pct-a.pct,s=(e-a.pct)/o,l=1-s,A=s,d={r:i(Math.floor(a.color.r*l+r.color.r*A)),g:i(Math.floor(a.color.g*l+r.color.g*A)),b:i(Math.floor(a.color.b*l+r.color.b*A))};return"rgb("+[d.r,d.g,d.b].join(",")+")"}},"K+rZ":function(e,t,a){"use strict";function n(e){return e<10?"0"+e:e}function i(e,t){return n(e)+":"+n(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.displayCountdown=function(e,t,a){return!0===e?0===t&&0===a?i(t,a):t<0&&a<0?"-"+i(-t,-a):t<=0&&a<=0?"-"+i(-t,-a):i(t,a):t<=0&&a<=0?"MISSED":i(t,a)}},KDmf:function(e,t,a){},KOUZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.weatherStorage=void 0;var n=a("4iSt"),i=a("Tqq3"),r=n.storageBase.CtaStorage,o=i.helpers.now,s={WEATHER_STORAGE_KEY:"cta-weather-data",fetchLastWeatherObj:function(){return JSON.parse(r.getItem(this.WEATHER_STORAGE_KEY))||{lastReport:{},updatedAt:o()}},clearStoredWeather:function(){r.removeItem(this.WEATHER_STORAGE_KEY)},needDataRefresh:function(){var e=JSON.parse(r.getItem(this.WEATHER_STORAGE_KEY)),t=6e5<o()-this.fetchLastWeatherObj().updatedAt;return null==e||t},saveWeatherObj:function(e){this.clearStoredWeather();var t={};t.weather=e,t.updatedAt=i.helpers.now(),r.setItem(this.WEATHER_STORAGE_KEY,JSON.stringify(t))}};t.weatherStorage=s},KWM7:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ctaCommuteOptimizer=void 0;var n=a("hYaO"),i=a("SsW3"),r=a("u7XG"),o=a("Tqq3"),s=a("26kM"),l=a("/HHy"),A=a("j9hV"),d=a("up33"),c=a("tw3K"),u=a("axR1"),g=r.config.commutes;function p(e){return{stationid:i.arrivalsStorage.fetchStationDataFor(e).stationid,mapId:i.arrivalsStorage.fetchStationDataFor(e).mapId}}function f(e,t){return e===t}function h(){var t,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{forceAmPmVal:void 0},n=void 0===!(t=a).forceAmPmVal||t.forceAmPmVal?function(t){var a,n=t.forceAmPmVal;if(e("div.all-data-"+(a=n)).removeClass("hidden"),e("div.all-data-"+o.helpers.oppositeCommute(a)).addClass("hidden"),!(0<e("ul.trainData-"+n).find("li").length))return(0,A.fetchTrainArrivalData)(n,p(n)),n;o.helpers.unhidePageContent()}(a):function(){var t=o.helpers.getCommuteType();return e("#radio-"+t).prop("checked",!0),(0,A.fetchTrainArrivalData)(t,p(t)),t}();(0,l.fetchRouteData)({printAm:f("am",n),printPm:f("pm",n)}),(0,s.fetchAlertData)({printAm:f("am",n),printPm:f("pm",n)})}t.ctaCommuteOptimizer=function(){e().ready(function(){c.settingsHelper.loadFromLocalStorage(),c.settingsHelper.setupSuperFish(),c.settingsHelper.settingsCheckBoxes(),c.settingsHelper.settingsDropDowns(),c.settingsHelper.settingsResets(),c.settingsHelper.rideHistoryTrigger(),c.settingsHelper.setupAmPmToggle(),e(g).each(function(t,a){e("select.settings."+a+"-train-filter").on("change",function(){var e=this.value;u.settingsStorage.updateSetting(a+"LineDisplay",e),u.settingsStorage.handleShowHideRoutes(a,e),n.arrivalsHelper.handleShowHideArrivals(a,e)}),e("#radio-"+a).off(),e("#radio-"+a).click(function(e){h({forceAmPmVal:o.helpers.selectedCommute()})})})}),setTimeout(function(){o.helpers.setInputFocus(),d.followersData.hasRecentRide()},20),h(),e(".body-wrapper").css({visibility:"visible",opacity:1})}}).call(this,a("EVdn"))},MGV5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAP1BMVEX////99/n43+nyxtjwvtL77/Ttr8jifqbrpsL65+721+Pkhqz0zt3mjrHpnrznlrfxv9Pyx9j0z97trsfvts1xS5QmAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALnSURBVFjD7ZnRAqwQEIYzezopm0jv/6wnVCuGYbfL81/tRl8aP4a6zorB68+PegHrTvV/h0fER8+bxDO8XW/LG8lqszy0kFWnHTjnOUrD2EUaYVU8e49g3RsvWXTfFdSvHL/v1WEdIlSR5sU01k7ZyfQiZzTOSSFxQoC8EocTU6BI2gfqVBKJuQJoCu0AuokpUNuK+jS7UHcg46cppfUcVABtK/rg/3gD6iA29smVQLj9V+jvYejrgPa5axUQsF7BgaoaKEngYoFbFdB2HyeBsouemwcqzDcJ0NQDtyqgis2QB0rMiAlQPw2EeBLPA0U0BPJAqAMO2FBJgCzydQlo6woKmMwhBSDm7PjCHPv6V2Di6xJQI0aMgbwFqCqAia9LwC3uwF+BmLNjoJ3XWQtwJIBuGTL3m0JgH/qOJ09PgavPNOBUn6x6V5HPe6hXVsXlHNJCCri1AjUBlK1AyofNQEMAh1YgNZYPIHCzz03KpRsRsDdm796JK59ULRTQJVjWbdKBpgQ42wTN9q3PqgYKCJcXXJGKgW7OB3tJ1AGnewshaeFyttA5bCSB3tmjsSFaORJDtpneBlmjvs4B74Mhn8Ems1cmFakXnTk8DpzbgHQ6NzwOrN31eAkaCGdwFinxje9ecIV6aABCh+3bfI0T2FcAdQuwZp+ingbyFmDN1kyMAVCqVPMHyGo2j4OAD1Bh1ruAPXIIgb7VogBMGbgATAa5dciE6QhV/pWzIoDZTvkPrAKaPf65gm+AdtnFgbq7p4kUcHFHFHYEThKVLRpzp2s1xywFGRrYxEOIMbCRR2dfmxtddl1hx0jjWBhdKq6xMKK9vOJTXSB3QMawE08MaPDVIq2DTId3oPbbBb/8QFlBJZ0Drq0dcirImObgyHT7lhcS5edQt9kwoa4t++sarz/xLoPb3j+SWj+Cj2Nrk8tCboIby8llvMHRvUqCXNLiawd2fPsrX39c8G8lTzfyz7H8g58//gFzK41EEkDntQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowNC0wNjowMHNj+NUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},NinT:function(e,t,a){},O842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={north:"↑ N",north_east:"↗ NE",east:"→ E",south_east:"↘ SE",south:"↓ S",south_west:"↙ SW",west:"← W",north_west:"↖ NW"},i=Object.keys(n),r=360/i.length;t.cardinalDirection=function(e){var t=parseInt(e,10);if(t<=0||360<t||isNaN(t))return"☈";for(var a=t+r/2,o=0;o<i.length;o+=1)if(o*r<=a&&a<(o+1)*r)return n[i[o]];return"☈"}},P8MM:function(e,t,a){"use strict";(function(e){var t=a("u7XG"),n=a("KOUZ"),i=a("axR1"),r=a("SsW3"),o=a("O842"),s=t.config.weatherApiKey,l=a("81B4"),A="https://api.openweathermap.org/data/2.5/weather?q=Chicago,us&units="+i.settingsStorage.fetchSettingsObj().units+"&APPID="+s+"&lang="+i.settingsStorage.fetchSettingsObj().language;function d(t){var a=t.main,n=a.humidity,i=(a.pressure,a.temp),r=t.wind,s=r.deg,A=r.speed,d=(t.clouds.all,t.dt,t.id,t.sys.sunrise,t.sys.sunset,t.visibility,t.weather[0]),c=(d.description,d.icon),u=(d.id,d.main);e(".weather-data-container").append("\n          <span class='weather-data'>\n            <span class='weather-details-box'>\n              <span class='weather-wind-box'><img class='wind-icon' src='"+l+"' />"+Math.round(A)+"mph "+(0,o.cardinalDirection)(s)+"</span>\n              <span class='weather-humidity-box'><span class='humidity'>Humidity</span> "+Math.round(n)+"%&#x1F4A7;</span>\n            </span>\n            <span class='weather-icon-box'>\n                <img class='weather-icon' src='http://openweathermap.org/img/w/"+c+".png' />\n                <span class='description-container'>\n                  <span class='icon-description'>"+u+"</span>\n                </span>\n            </span>\n            <span class='weather-temp-box'>\n                <span class='weather-temp'>"+Math.round(i)+"&#176;<span class='unit-indicator'>F</span></span>\n                <span class='weather-city'>Chicago</span>\n            </span>\n          </span>")}r.arrivalsStorage.fullCommuteSet()&&(n.weatherStorage.needDataRefresh()?e.ajax({url:A,type:"GET",async:!0}).done(function(e){200===e.cod&&(d(e),n.weatherStorage.fetchLastWeatherObj(),n.weatherStorage.saveWeatherObj(e))}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)}):d(n.weatherStorage.fetchLastWeatherObj().weather))}).call(this,a("EVdn"))},PGGC:function(e,t,a){},SsW3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrivalsStorage=void 0;var n=a("4iSt"),i=a("Tqq3"),r="ctaPredict",o=n.storageBase.CtaStorage,s={currentCommuteTypeNotSet:function(e){return null===o.getItem(i.helpers.oppositeCommute(e)+"-commute-station")},fetchStationDataFor:function(e){var t=o.getItem(e+"-commute-station");return null===t?{}:JSON.parse(t)},fetchDestinationStationDataFor:function(e){var t=o.getItem(e+"-destination-station");return null===t?{}:JSON.parse(t)},clearOldTrainArrivalData:function(){n.storageBase.allKeys().forEach(function(e){var t,a;e.match(/ctaPredict/)&&e.split("-")[0]===r&&(a=e,t=JSON.parse(o.getItem(a)).updatedAt,3e5<i.helpers.now()-t)&&o.removeItem(e)})},fullCommuteSet:function(){var e=this.fetchStationDataFor("am"),t=this.fetchStationDataFor("pm");return 0<Object.keys(e).length&&e.constructor===Object&&0<Object.keys(t).length&&t.constructor===Object},getArrivalPredictions:function(e,t){var a,n,s=(n=t,r+"-"+(a=e).rt+"-"+a.rn+"-"+a.destNm+"-"+n),l=JSON.parse(o.getItem(s))||{values:[],updatedAt:null};return l.values.push(e.arrT),l.updatedAt=i.helpers.now(),o.setItem(s,JSON.stringify(l)),l.values[l.values.length-2]}};t.arrivalsStorage=s},Tqq3:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=void 0;var n=a("u7XG"),i={getCommuteType:function(){var e=(new Date).getHours();return 4<e&&e<12?"am":"pm"},now:function(){return(new Date).getTime()},reload:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{delay:n.config.reloadDefaultWait};function a(){return window.location.reload()}e(".overlay-wrapper").addClass("overlay"),t&&t.delay?(this.showLoader(),setTimeout(function(){a()},t.delay)):a()},hidePageContent:function(){e(".content-wrapper").addClass("hidden")},unhidePageContent:function(){e(".content-wrapper").removeClass("hidden")},showLoader:function(){e("img.loading-gif").removeClass("hidden")},hideLoader:function(){e("img.loading-gif").addClass("hidden")},showFooter:function(){e("footer").removeClass("hidden")},selectedCommute:function(){return!0===e("#radio-pm[name='am-pm']")[0].checked?"pm":"am"},setInputFocus:function(){e("#am-station-search").is(":visible")?e("input#am-station-search").focus():e("#pm-station-search").is(":visible")&&e("input#pm-station-search").focus()},oppositeCommute:function(e){return"am"===e.toLowerCase()?"pm":"am"}};t.helpers=i}).call(this,a("EVdn"))},VpB4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alertsStorage=void 0;var n=a("4iSt"),i=a("axR1"),r=a("Tqq3"),o=a("N5v+"),s=n.storageBase.CtaStorage,l="cta-muted-alerts";function A(){return JSON.parse(s.getItem(l))||{updatedAt:r.helpers.now(),mutedAlerts:[]}}var d={MUTED_ALERTS_KEY:l,alertObject:A(),muteAlert:function(e,t){var a=A();a.mutedAlerts.push({alertId:e,sev:t,updatedAt:r.helpers.now()}),a.updatedAt=r.helpers.now(),s.setItem(l,JSON.stringify(a))},alertSeverityThreshold:function(){return o.severityScores[i.settingsStorage.fetchSettingsObj().alertThreshold].lowSev},shouldDisplayAlert:function(e,t){var a=this;return a.alertId=e,a.sevNew=t,a.shouldDisplay=!0,A().mutedAlerts.forEach(function(e){if(i=e.alertId,r=a.alertId,parseInt(i,10)===parseInt(r,10)&&(t=e.sev,n=a.sevNew,parseInt(t,10)<=parseInt(n,10)))a.shouldDisplay=!1;else var t,n,i,r}),a.shouldDisplay}};t.alertsStorage=d},"Vr/x":function(e,t,a){},XKyZ:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.alertsHelper=void 0;var n=a("VpB4"),i=a("axR1"),r=a("1Tf0"),o=a("N5v+"),s={T:"Station",R:"'L'"};function l(e){return null===e?"ONGOING":r.timeHelper.printTime(e)+" "+r.timeHelper.printDate(e)}var A={alertMuteClass:function(e){return!0===n.alertsStorage.shouldDisplayAlert(e.AlertId,e.SeverityScore)?"":"hidden"},printEventDetails:function(e){return"<p class='event-details hidden'><span class='alert-timeframe'>"+l(e.EventStart)+" &#8212; "+l(e.EventEnd)+"</span><span class='right'>severity: "+(0,o.getSeverityFromSevScore)(e.SeverityScore,"long")+"&#8212 <span title='CTA Severity Rating'>("+e.SeverityScore+")</span></span></p>"},printImpactedLines:function(e){var t=[],a=e.ImpactedService.Service;return Array.isArray(a)||(a=[a]),a.forEach(function(e){["T","R"].includes(e.ServiceType)&&t.push("<span>"+e.ServiceName+" "+s[e.ServiceType]+"</span>")}),t.join(", ")},readAlertDetailsSetting:function(){!0===i.settingsStorage.getSetting("alertDetails")?(e(".event-details").removeClass("hidden"),e(".impact-details").removeClass("hidden")):(e(".event-details").addClass("hidden"),e(".impact-details").addClass("hidden"))}};t.alertsHelper=A}).call(this,a("EVdn"))},YJKL:function(e,t,a){e.exports=a.p+"airport-icon.729295fbe58ffe5a762c.png"},ZuAq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diffColor=function(e){return 0===e?"#ddd":e<-29?"#e60000":e<5?"#e8564e":29<e?"#60ed44":5<e?"#9eff9e":"#ddd"},t.formatDiff=function(e){var t=parseFloat(e);return 0===t?""+t:29<t?"++"+t:0<t?"+"+t:t<-29?"-"+t:t<0?""+t:void 0}},axR1:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.settingsStorage=void 0;var n=a("4iSt"),i=a("Tqq3"),r=n.storageBase.CtaStorage,o=i.helpers.now,s={SETTINGS_KEY:"cta-settings",fetchSettingsObj:function(){return JSON.parse(r.getItem(this.SETTINGS_KEY))||{accessibilitySetting:!1,alertThreshold:2,alertDetails:!1,padArrivals:0,amLineDisplay:"all",pmLineDisplay:"all",predictionDiff:!0,routeName:!0,language:"en",units:"imperial",trainConfidence:!0,trainHeading:!0,trainRunNumber:!0,updatedAt:o()}},lineFilterSetting:function(e){return this.fetchSettingsObj()[e+"LineDisplay"]},inclusivePurpleClassKey:function(e){return"Pexp"===e?"P,Pexp":e},filterSelection:function(e){return this.inclusivePurpleClassKey(this.lineFilterSetting(e))},clearFilterCache:function(e){this.updateSetting(e+"LineDisplay","all")},settingOff:function(e){return!this.getSetting(e)},getSetting:function(e){return this.fetchSettingsObj()[e]},updateSetting:function(e,t){var a=this.fetchSettingsObj();a.updatedAt=o(),a[e]=t,r.setItem(this.SETTINGS_KEY,JSON.stringify(a))},hideShowRoutes:function(t){var a=this.filterSelection(t);e("ul.routedata-"+t).find(e(".route-data:not(.filter-"+a+")")).addClass("hidden"),e("ul.routedata-"+t).find(e(".filter-"+a)).removeClass("hidden")},showAllRoutes:function(t){e("ul.routedata-"+t).find(e(".route-data")).removeClass("hidden")},handleShowHideRoutes:function(e,t){return"all"===t?this.showAllRoutes(e):this.hideShowRoutes(e)}};t.settingsStorage=s}).call(this,a("EVdn"))},csdy:function(e,t,a){},"d/My":function(e,t,a){},hYaO:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.arrivalsHelper=void 0;var n=a("u7XG"),i=a("axR1"),r=a("up33"),o=n.config.colorToObjMap,s=a("YJKL"),l={showDataSectionFor:function(t){e(".all-data-"+t).removeClass("hidden")},showTrainFilterFor:function(t){e(".settings."+t+"-train-filter.hidden").removeClass("hidden")},handleShowHideArrivals:function(t,a){var n,r;"all"===a?e("ul.trainData-"+t).find(e(".arrival-time")).removeClass("hidden"):(n=t,r=i.settingsStorage.filterSelection(n),e("ul.trainData-"+n).find(e(".arrival-time:not(.filter-"+r+")")).addClass("hidden"),e("ul.trainData-"+n).find(e(".filter-"+r)).removeClass("hidden"))},setRideListeners:function(){e(".line-detail").off("click"),e(".line-detail").on("click",function(t){var a=e(t.target).parent().data();r.followersData.boardTrain(a.runNumber,a.lineName)})},routeName:function(e){return o[e.rt].name},trainColor:function(e){return o[e.rt].color},delayedText:function(e){return"0"===e.isDly?"":"DELAYED"},isDelayed:function(e){return"1"===e.isDly},airportBound:function(e){return!!Object.keys(n.config.airportBoundLines).includes(e.rt)&&parseInt(n.config.airportBoundLines[e.rt],10)===parseInt(e.trDr,10)},airportIcon:function(e){return this.airportBound(e)?"<img title='Airport Bound' class='airport-icon' src="+s+" height='50' width='50' />":""}};t.arrivalsHelper=l}).call(this,a("EVdn"))},iGxs:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAS1BMVEX////v+fTB5tGS06+DzaTg8uhkwY4Hm0lVuoLQ7N2x4MYXoVSi2bomqGBFtHc2rmuT06/B5tLR7N2i2rvg8+jw+fRkwY2y4MZ0x5ljfAPeAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALwSURBVFjD7ZnbgqMgDIbplF2ZYUTwgL7/k24D1SIEAq2Xm6tW8BOTHwiRMbDb151/aPevG9vtz9/uEhPfnvcjr+E97Bd432S3Xj1tILv+PIB9nsO1GVlko5m4yN4jb+wXbxn0zAo2TwK/786wgEhepHlbNDZOxVR6USw0zhlH/IQARSUOJ6ZAmYzPHOpNPNFXAG1hHIYeYgrU0FHvYpf8DFzELkq1wuArgDCKOfg/noA68A08uRJoTv85+rvr5jogPHeqAhosKjiQVwMVCRwAuFUBIXyCBCoWPTcP5JhuEqCtB25VQB6LIQ9UmBAToL4aCKEb64AymgJ5oKkDdthUSYBLpOsSEPpKCpisIQUgpuz4Qh/r+lNgousSUCNCjIGiBcgrgImuS8AtDuCnQEzZMRDW9aUFOBJAtw3Z800hcA51J5Knp8DJZxpmtznZ9Y4mn/dQr8yL27lJGyng1grUBFC1AikdNgMtAexagdRcfgKNsI+1ibt0IwLO1j7Cuwruk6qBAroEC9SmHGhNgD0kaBBbn1V1FNAcWnBNPAa6Nd/AJVkHXM8jNMkIh32ETmEjCfTKHi24aBKID5fNzuBkjeo6BzxPhnwGm6xemVSk3ujM4XJg3wak07nucmDtqcebpIFmd86gFH7wfTQcru4agIZh5zbfYwfOFUDdAqw5p/CrgaIFWHM0k2MAVEj9o38Bl5rDYyfNC4htguoAzkgRAn2rgRtjy8DBmNUit3YZNz1dlX/lrBHAbFD+A6uA9uH/XMM7QNh2caBm5zSRAg6uRAEzcFWoQdOYq67VlFkKZmlgEw8hxsBGHp19bW52wb6yPGeawNzoUnGNuRGN8oQvdYG5AtmCVTwxoMV3i7QPshyegdofF/z2Y8oWdNI54NQakN2CjKkPSqbbu7yQqF5F3WbBhHYc2e/HfP2Idwhc3o7CuJ/Bz7K1zWUhJzMnljMojIele544uWSD7x3I8ddfefvjgn8rtatx/7jALv388Q/tbJQdeb9pdQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowMS0wNjowMCFb13IAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},isJw:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAXVBMVEX//////e/9+L/884/78X/++9/77mD44wD67FD++s/99q/45RD89J/dygTBsQfPvgX55yCKgA58cxBTThVFQRccHBxvZxKzpQk4NRnq1wIqKBr66kCmmAthWhOYjAzzbixRAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALzSURBVFjD7dlRg6IgEABg2+7O20oMMFFD///PPIEwhIGBzcebp93EL4RRRqoqFaev868P4/x1qmz8/lMfEn+/jXe5HuOtcVPeN9qsIa9o0aaXFbzHHcp49/Ci4z0VTeyc66m6wUdaNjwSMfQCPu9cQRMy0qRmYmJQP5/VM/xQTDing4bn3gFQZHKwGIJj0D9ObQQj0WSAMtEPjncxBJlqyMZtfvbgJGxSkll1PgNUvRic/7sdyJyxUd+cCfLd/xT8u66HPFB9b58FcmhWYJBmgwQFWwUuWaCaPoGC5OF9bxykUN4EoMwHlyyQ+skQBwmUiAHIjgbV1HV54OjdAnGQ54E1dKsE4OTldQpUbUcMDJ4hCRDKbB9s/Lz+FAzyOgUyIBF9UJSANAMM8joFLv4EfgpCme2D6rk+lYAdAuplSO5PcsHBzTsRfHsI9qbS4DaGYNXbDpm6B7tkmlzOeXgQA5dSkCEgKQWxPCwGJQLWpSB2L79ALuT6bKK63PDAQcp1emdBTVHVYqAusFS2EQ3NAdioAk3NramqagzkWy7oq6E+qJ/5XH005oHzvoc86GFre6gzrENBk9mdVEPUC2AMp0UOapAZmNcxcH8zxCvY4OkVKUXyA68cDgebMhAv5+rDwdy3HhMjDnI7OC0hQXMd64FtqOsCkAMXZFtYcMgAWQmY855CjwZFCZjzajZ2DkhoGM0bnHJeHuuRv0FoESQbOACbENALeN1SzmUabDmfJXAqDG5DFb/kaCBgdFL+g1mgXMc/duAnoFp2YZA99mUiBrZ6i0LdgTMBQx3qYrtrOdssiZA4WOQBog8Wenj1tei7S60r0+tOE9Aw6lKcQcMIznIPP+qc0BtkE7TjCYESXi3CNsDjcA8y87pglh+eDqcRi4F96YTYcCqmu7NluvzUc8Xne1O3OGHc2F7Zz9u280feluDX07Yxbu7g17a1jFUhu+A7S8fF27qnwSCnojWtnXS8ffjjgrkqYrPR/rhw7M8f/wBpdiams2ROewAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowNS0wNjowMNUU82EAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},j9hV:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTrainArrivalData=void 0;var n=a("u7XG"),i=a("Tqq3"),r=a("SsW3"),o=a("1Tf0"),s=a("ZuAq"),l=a("F9z5"),A=a("axR1"),d=a("hYaO"),c=a("K+rZ"),u=a("tcnj"),g=n.config.colorToObjMap,p=n.config.proxyUrl,f=n.config.ctaApiKey,h=n.config.timerInterval;t.fetchTrainArrivalData=function(t,a){var n;void 0!==a.stationid&&e.ajax({url:(n=a.stationid,p+"https://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key="+f+"&mapid="+n+"&outputType=JSON"),type:"GET",async:!0}).done(function(n){var p=n.ctatt.eta,f=[];e(p).each(function(e,t){parseInt(t.stpId,10)===a.mapId&&f.push(t)}),i.helpers.showFooter(),i.helpers.hideLoader(),r.arrivalsStorage.clearOldTrainArrivalData(),function(t,a){var n=void 0;0===t.length?(n="\n      <li class='arrival-time' style='background-color: #e60000;'>\n        <div class='line-detail'></div>\n        <div class='station-arrival'>\n          <span title='Station Name'>No Train Predictions Available</span>\n        </div>\n      </li>",e("ul.trainData-"+a).append(n),d.arrivalsHelper.showDataSectionFor(a)):(e(t).each(function(t,p){var f,m,v=void 0,S=r.arrivalsStorage.getArrivalPredictions(p,a),w=o.timeHelper.parseCtaTime(p.arrT),C=o.timeHelper.parseCtaTime(p.prdt),b=(i.helpers.now()-C)/60/1e3,D=(0,l.getColorForPercentage)(1-b/2),y=A.settingsStorage.getSetting("padArrivals"),E=w-i.helpers.now()-1e3*y,B="",R="countdown-"+t+"-"+a,T="confidence-"+t+"-"+a,I=d.arrivalsHelper.airportIcon(p);if(void 0===S)B="<span class='diff'> 0</span>";else{var M=o.timeHelper.parseCtaTime(S);f=o.timeHelper.getTimeDiff(w,M)/1e3,m=o.timeHelper.calcPercentChange(M,w),B="<span title='diff since last prediction' class='diff' style='color: "+(0,s.diffColor)(m)+"'> "+(0,s.formatDiff)(f)+"</span>"}n="\n        <li class='arrival-time filter-"+p.rt+"' style='background-color: #"+d.arrivalsHelper.trainColor(p)+";'>\n          <div class='line-detail' data-line-name='"+g[p.rt].name+"' data-run-number='"+p.rn+"'>\n            <span title='L Train Color' class='route-name'>"+d.arrivalsHelper.routeName(p)+"</span>\n            <span title='Run Number' class='train-run-number'> #"+p.rn+"</span>\n          </div>\n          <div class='station-arrival'>\n            <span title='Station Name'>"+p.destNm+"</span>\n            "+I+"\n            <canvas title='Train Compass Heading' class='compass' height='50' width='50'></canvas>\n            <span title='confidence rating' class='confidence "+T+"' style='color: "+D+";'> "+b.toFixed(2)+"</span>\n            "+B+"\n            <span title='delayed flag' style='color: red;'> "+d.arrivalsHelper.delayedText(p)+"</span>\n            <span title='time until arrival' class='countdown "+R+"'></span>\n          </div>\n        </li>",e("ul.trainData-"+a).append(n),setInterval(function(){function t(){var t=E-=h,a=Math.floor(t/6e4),n=(t%6e4/1e3).toFixed(0),i=d.arrivalsHelper.isDelayed(p);e("."+R).text((0,c.displayCountdown)(i,a,n)),e("."+T).text(v)}return t(),t}(),h);var N=e("ul.trainData-"+a).find("li").last()[0];(0,u.setCompass)(p.heading,N),i.helpers.hideLoader(),d.arrivalsHelper.showTrainFilterFor(a),d.arrivalsHelper.showDataSectionFor(a),d.arrivalsHelper.handleShowHideArrivals(a,A.settingsStorage.lineFilterSetting(a))}),d.arrivalsHelper.setRideListeners())}(f,t),A.settingsStorage.settingOff("trainHeading")&&e("canvas.compass").addClass("hidden"),A.settingsStorage.settingOff("trainConfidence")&&e("span.confidence").addClass("hidden"),A.settingsStorage.settingOff("predictionDiff")&&e("span.diff").addClass("hidden"),A.settingsStorage.settingOff("trainRunNumber")&&e("span.train-run-number").addClass("hidden"),A.settingsStorage.settingOff("routeName")&&e("span.route-name").addClass("hidden")}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a),alert("train arrival endpoint failed, check console.log")}).always(function(){i.helpers.unhidePageContent()})}}).call(this,a("EVdn"))},kxu7:function(e,t,a){},m5Zo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.followersStorage=void 0;var n=a("4iSt"),i=a("Tqq3"),r="cta-current-ride",o="cta-ride-history",s=n.storageBase.CtaStorage,l={addRideToHistory:function(e){var t=this.rideHistory();t.rides.push(e),s.setItem(o,JSON.stringify(t))},rideHistory:function(){return JSON.parse(s.getItem(o))||{rides:[],updatedAt:i.helpers.now()}},currentRide:function(){return JSON.parse(s.getItem(r))},deleteByIndex:function(e){var t=this.rideHistory();-1<e&&t.rides.splice(e,1),s.setItem(o,JSON.stringify(t))},lastEtaRaw:function(){return this.currentRide()?this.currentRide().lastEtaRaw:"unknown"},hasCurrentRide:function(){return null!==this.currentRide()},currentRideStale:function(){return 36e5<i.helpers.now()-this.currentRide().boardedAt},arrived:function(){return!!this.currentRide()&&"ARRIVED"===this.currentRide().lastEta},clearCurrentRideKey:function(){s.removeItem(r)},updateCurrentRide:function(e,t){var a=this.currentRide();a.updatedAt=i.helpers.now(),a[e]=t,s.setItem(r,JSON.stringify(a))},setCurrentRide:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.clearCurrentRideKey();var t={};t.boardedAt=e.boardedAt,t.destinationStation=e.destinationStation,t.lineName=e.lineName,t.runNum=e.runNum,t.destinationName=e.destinationName,t.updatedAt=i.helpers.now(),t.lastEta="unknown",t.lastEtaRaw="unknown";var a=t;this.addRideToHistory(a),t.runData=e.runData,s.setItem(r,JSON.stringify(t))}};t.followersStorage=l},pfZt:function(e,t,a){},qAtC:function(e,t,a){},rAE1:function(e,t,a){},tYa2:function(e,t,a){},tcnj:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setCompass=function(t,a){var n=parseInt(t,10),i=e(a).find("canvas.compass")[0].getContext("2d"),r=.0174533*(n-90),o=i.canvas.width/2,s=i.canvas.height/2,l=.8*o,A=o+l*Math.cos(r),d=s+l*Math.sin(r),c=o-2;i.clearRect(0,0,i.canvas.width,i.canvas.height),i.beginPath(),i.strokeStyle="rgba(0,0,0,0.25)",i.lineWidth=1,i.fillStyle="rgba(255,255,255,0.9)",i.arc(o,s,c,0,2*Math.PI),i.fill(),i.stroke(),i.beginPath(),i.strokeStyle="rgba(255,0,0,0.5)",i.lineCap="round",i.moveTo(o,s),i.lineTo(A,d),i.moveTo(A,d),i.lineWidth=2,i.fillStyle="#999",i.stroke()}}).call(this,a("EVdn"))},tjUo:function(e,t,a){"use strict";var n,i=(n=a("EVdn"))&&n.__esModule?n:{default:n},r=a("KWM7");a("KWM7"),a("9d8Q"),a("U0JU"),a("WjO1"),a("vGLT"),a("NinT"),a("csdy"),a("PGGC"),a("zmLm"),a("pfZt"),a("5EEt"),a("COMZ"),a("rAE1"),a("Vr/x"),a("tYa2"),a("qAtC"),a("KDmf"),a("0d1/"),a("d/My"),a("kxu7"),a("1Yv4"),a("7aQF"),a("PDXk"),a("eD5A"),a("HR/W"),a("H5G7"),a("aQx1"),a("N5v+"),a("dk1r"),a("u7XG"),a("Tqq3"),a("unZK"),a("1Tf0"),a("XKyZ"),a("hYaO"),a("0qHD"),a("tw3K"),a("O842"),a("zPNi"),a("tcnj"),a("F9z5"),a("ZuAq"),a("K+rZ"),a("26kM"),a("4iSt"),a("VpB4"),a("SsW3"),a("axR1"),a("m5Zo"),a("KOUZ"),a("j9hV"),a("vnJK"),a("up33"),a("/HHy"),a("P8MM"),document.addEventListener("DOMContentLoaded",function(){(0,i.default)(window).scroll(function(e){var t=(0,i.default)(".fixed-element"),a="fixed"===t.css("position");61<(0,i.default)(this).scrollTop()&&!a&&t.css({position:"fixed",top:"0px"}),(0,i.default)(this).scrollTop()<61&&a&&t.css({position:"static",top:"0px"})}),(0,r.ctaCommuteOptimizer)()})},tw3K:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.settingsHelper=void 0;var n=a("VpB4"),i=a("SsW3"),r=a("u7XG"),o=a("Tqq3"),s=a("axR1"),l=a("4iSt"),A=l.storageBase.CtaStorage,d=r.config.commutes;function c(e){return!(0<Object.keys(e).length)}var u={loadFromLocalStorage:function(){e(d).each(function(t,a){(l.storageBase.storageEmpty()||i.arrivalsStorage.currentCommuteTypeNotSet(a))&&o.helpers.hideLoader();var n=i.arrivalsStorage.fetchStationDataFor(a),r=i.arrivalsStorage.fetchDestinationStationDataFor(a);c(n)||e("h2."+a+"-commute-station-label").text(n.stopName+" to: "),c(r)||(e("h2."+a+"-destination-station-label").text(i.arrivalsStorage.fetchDestinationStationDataFor(a).stationName),e("h2."+a+"-destination-station-label").removeClass("hidden"),e(".station-setting.destination").removeClass("hidden")),c(n)&&e(".station-setting.destination").addClass("hidden")})},setupSuperFish:function(){e("#settings-menu").superfish({delay:100,speed:"fast"})},settingsCheckBoxes:function(){e("#trainHeading").prop("checked",s.settingsStorage.getSetting("trainHeading")),e("#trainHeading").on("change",function(){s.settingsStorage.updateSetting("trainHeading",!0===this.checked),e("canvas.compass").toggleClass("hidden")}),e("#trainConfidence").prop("checked",s.settingsStorage.getSetting("trainConfidence")),e("#trainConfidence").on("change",function(){s.settingsStorage.updateSetting("trainConfidence",!0===this.checked),e("span.confidence").toggleClass("hidden")}),e("#predictionDiff").prop("checked",s.settingsStorage.getSetting("predictionDiff")),e("#predictionDiff").on("change",function(){s.settingsStorage.updateSetting("predictionDiff",!0===this.checked),e("span.diff").toggleClass("hidden")}),e("#trainRunNumber").prop("checked",s.settingsStorage.getSetting("trainRunNumber")),e("#trainRunNumber").on("change",function(){s.settingsStorage.updateSetting("trainRunNumber",!0===this.checked),e("span.train-run-number").toggleClass("hidden")}),e("#routeName").prop("checked",s.settingsStorage.getSetting("routeName")),e("#routeName").on("change",function(){s.settingsStorage.updateSetting("routeName",!0===this.checked),e("span.route-name").toggleClass("hidden")}),e("#alertDetails").prop("checked",s.settingsStorage.getSetting("alertDetails")),e("#alertDetails").on("change",function(){s.settingsStorage.updateSetting("alertDetails",!0===this.checked),e(".event-details").toggleClass("hidden"),e(".impact-details").toggleClass("hidden")}),e("#accessibilitySetting").prop("checked",s.settingsStorage.getSetting("accessibilitySetting")),e("#accessibilitySetting").on("change",function(){s.settingsStorage.updateSetting("accessibilitySetting",!0===this.checked),o.helpers.reload()})},settingsDropDowns:function(){e("select.settings.alert-threshold").val(s.settingsStorage.getSetting("alertThreshold")),e("select.settings.alert-threshold").on("change",function(){s.settingsStorage.updateSetting("alertThreshold",parseInt(this.value,10)),e("li.alertbox").each(function(t,a){e(a).data().sev>n.alertsStorage.alertSeverityThreshold()?e(a).removeClass("hidden"):e(a).addClass("hidden")}),e(["station-alerts-am","station-alerts-pm","system-alerts","system-overall"]).each(function(t,a){0<e("."+a).find("li.alertbox").not(".hidden").length?e("."+a+".hidden").removeClass("hidden"):e("."+a).addClass("hidden")})}),e("select.settings.arrival-time-pad").val(s.settingsStorage.fetchSettingsObj().padArrivals),e("select.settings.arrival-time-pad").on("change",function(){s.settingsStorage.updateSetting("padArrivals",parseInt(this.value,10)),o.helpers.reload()})},settingsResets:function(){e("span.settings.reset-muted-alerts").off(),e("span.settings.reset-muted-alerts").click(function(){A.removeItem(n.alertsStorage.MUTED_ALERTS_KEY),o.helpers.reload()}),e("span.settings.reset-commute").off(),e("span.settings.reset-commute").click(function(){A.clear(),o.helpers.reload()})},rideHistoryTrigger:function(){e("span.ride-history-trigger").off(),e("span.ride-history-trigger").click(function(){var t=followersStorage.rideHistory().rides,a=[],n="<li>No ride data. Go ride some trains!</li>";e("ul.ride-history-list").empty(),0===t.length?e("ul.ride-history-list").append(n):(e.each(t,function(e,t){a.push("<li class='ride-history ride-history-"+e+"'>"+t.lineName+" #"+t.runNum+" to "+t.destinationName+" &#8212; <span title='Boarded at'>"+timeHelper.printPlainDate(t.boardedAt)+" - "+timeHelper.printPlainTime(t.boardedAt)+"</span> <a class='ride-delete' data-ride-delete="+e+" href='#'>Delete</a></li>")}),e("ul.ride-history-list").append(a.join("")),e(".ride-delete").click(function(){var t=e(this).data("rideDelete");followersStorage.deleteByIndex(t),e(this).parent().remove(),0===e(e(this).parent().parent()[0]).find("li").length&&e("ul.ride-history-list").append(n)}))})},setupAmPmToggle:function(){e(".switch-horizontal").off(),e(".switch-horizontal").click(function(t){var a=t.target.id.split("-")[1];0===e("ul.trainData-"+a).find("li").length&&(o.helpers.hidePageContent(),o.helpers.showLoader())})}};t.settingsHelper=u}).call(this,a("EVdn"))},u7XG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n=a("aQx1"),i={commutes:["am","pm"],timerInterval:1e3,reloadDefaultWait:700,lines:["Red","Blue","G","Brn","P","Pexp","Y","Pink","Org"],airportBoundLines:{Blue:1,Org:5},proxyUrl:"https://can-cors.herokuapp.com/",ctaApiKey:"d37555ccc09141848543ab21e287b560",weatherApiKey:"e5ea2f7c366da04945f63fb5382732cf",colorToRouteMap:{"62361b":"brown",522398:"purple",f9461c:"orange",c60c30:"red",f9e300:"yellow","00a1de":"blue","009b3a":"green",e27ea6:"pink"},colorToObjMap:{brown:n.routes.brownLine,Brn:n.routes.brownLine,purple:n.routes.purpleLine,P:n.routes.purpleLine,Pexp:n.routes.purpleLineExpress,orange:n.routes.orangeLine,Org:n.routes.orangeLine,red:n.routes.redLine,Red:n.routes.redLine,yellow:n.routes.yellowLine,Y:n.routes.yellowLine,blue:n.routes.blueLine,Blue:n.routes.blueLine,green:n.routes.greenLine,G:n.routes.greenLine,pink:n.routes.pinkLine,Pink:n.routes.pinkLine},supportedLanguages:{english:{long:"English",weather:"en"},spanish:{long:"Espanõl",weather:"es"},polish:{long:"Polskie",weather:"pl"},french:{long:"Français",weather:"fr"}}};t.config=i},unZK:function(e,t,a){},up33:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.followersData=void 0;var n=a("u7XG"),i=a("Tqq3"),r=a("m5Zo"),o=a("SsW3"),s=a("1Tf0"),l=a("0qHD"),A=n.config.proxyUrl,d=n.config.ctaApiKey,c="https://lapi.transitchicago.com/api/1.0/ttfollow.aspx";function u(e){return""+A+c+"?key="+d+"&runnumber="+e+"&outputType=JSON"}function g(e,t){return parseInt(e,10)===parseInt(t,10)}function p(e){return"502"===e.errCd}function f(t){return e(".boarded-run-number").data("runNumber")===t}function h(t){e(".boarded-run-number").removeData("runNumber"),r.followersStorage.clearCurrentRideKey(),clearInterval(t)}function m(t,a,n){e("img.boarding-close-icon").off("click"),e("img.boarding-close-icon").click(function(){confirm("Are you sure you want to get off "+n+" train #"+a+"?")&&(e(".boarded-wrapper").addClass("hidden"),h(t))})}var v={destinationStation:function(){return o.arrivalsStorage.fetchDestinationStationDataFor(i.helpers.selectedCommute())},hasRecentRide:function(){if(r.followersStorage.hasCurrentRide()&&r.followersStorage.currentRideStale())r.followersStorage.clearCurrentRideKey();else if(r.followersStorage.hasCurrentRide()){var t=r.followersStorage.currentRide();e(".boarded-line-name").text(t.lineName),e(".boarded-run-number").text("#"+t.runNum),e(".boarded-destination-station").text(t.destinationName),e(".boarded-run-number").data("runNumber",t.runNum),e(".boarded-run-number").data("lineName",t.lineName),r.followersStorage.arrived()?(e(".eta-boarded").text(t.lastEta),l.followersHelper.setArrived()):(l.followersHelper.showRideBanner(),e(".eta-boarded").text("ETA: "+t.lastEta)),m(this.followerDataStartPoll(),t.runNum,t.lineName)}},followerDataStartPoll:function(){var t=this;return t.runData=r.followersStorage.currentRide().runNum,setInterval(function(){function a(){e.ajax({url:u(t.runData),type:"GET",async:!0}).done(function(a){var n=a.ctatt,i=t.getEta(n);e("span.eta-boarded").text(i)}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}return a(),a}(),6e4)},hasPredictionDataForStop:function(t){var a=this;return a.hasEta=!1,e(t.eta).each(function(e,t){g(a.destinationStation().stationid,parseInt(t.staId,10))&&(a.hasEta=!0)}),a.hasEta},confirmBoard:function(t,a,n){if(confirm(function(t,a){return f(t)?"You are already riding CTA "+a+" run #"+t+".":e(".boarded-wrapper").is(":visible")?"You are currently riding "+e(".boarded-run-number").data("lineName")+" #"+e(".boarded-run-number").data("runNumber")+", switch trains and board "+a+" #"+t+" instead?":"Board CTA "+a+" run #"+t+"?"}(t,a))){if(f(t))return;h(window.CTAcurrentRideTimer);var o=this.getEta(n);e(".eta-boarded").text(o),e(".boarded-destination-station").text(this.destinationStation().stationName),e(".boarded-line-name").text(a),e(".boarded-run-number").text("#"+t),e(".boarded-run-number").data("runNumber",t),e(".boarded-run-number").data("lineName",a),r.followersStorage.setCurrentRide({destinationStation:this.destinationStation().stationid,runData:n,runNum:t,boardedAt:i.helpers.now(),lineName:a,destinationName:this.destinationStation().stationName}),l.followersHelper.showRideBanner();var s=this.followerDataStartPoll();m(window.CTAcurrentRideTimer=s,t,a)}},getEta:function(t){if(p(t))return"ETA: unknown";if(this.hasPredictionDataForStop(t)){var a=this;return a.estEta=void 0,e(t.eta).each(function(e,t){g(a.destinationStation().stationid,parseInt(t.staId,10))&&(a.estEta=s.timeHelper.printTime(t.arrT),r.followersStorage.hasCurrentRide()&&(r.followersStorage.updateCurrentRide("lastEtaRaw",s.timeHelper.parseCtaTime(t.arrT).getTime()),r.followersStorage.updateCurrentRide("lastEta",s.timeHelper.printTime(t.arrT))))}),l.followersHelper.showRideBanner(),"ETA: "+a.estEta}if(r.followersStorage.hasCurrentRide()){var n=r.followersStorage.lastEtaRaw();return"unknown"===n||n>i.helpers.now()?void 0:(r.followersStorage.updateCurrentRide("lastEta","ARRIVED"),r.followersStorage.updateCurrentRide("lastEtaRaw","ARRIVED"),l.followersHelper.setArrived(),"ARRIVED")}},boardTrain:function(t,a){var n=this;n.runNum=t,n.lineName=a,e.ajax({url:u(t),type:"GET",async:!0}).done(function(e){var a=e.ctatt;n.confirmBoard(n.runNum,n.lineName,a),f(t)||p(a)||this.hasPredictionDataForStop(a)}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}};t.followersData=v}).call(this,a("EVdn"))},vnJK:function(e,t,a){},xepC:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAPFBMVEX////78fLwx8zmnaXij5j44+XbdH/FIDLXZnL01djtub/JLj/pq7LMPEzUWGXQSljikJnxx8z01dnegoyAZd6MAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALlSURBVFjD7ZnRgqMgDEVhWJERRaL//69bQC1CIND6OPepFXrE5CKBMubEf8S/LyV+ODs1yPERqd/Am/QzvJdmx/sluy3m0Ep2nV7ApcyxAjaWaIPZquJvNGcz3rKKgVU0zAr/nWBYQrSt0oK4wMZpmMkvKk7jvCwSJwSoGnE4MQfqbHxgT2WRWBqAsjIOoIeYA4XrKE6za3sHcnWa0jjPQQPQjWKIvm83oIhi4+7cCITbd4t+HsehDejuOzcBAcsKDrTNQEMCVwfcm4AufYoEGpbctwy0mG8yoGwH7k1Am5qhDDSYETOgeBroUre1AXUyBcpAaAOO2FTJgDzxdQ3o+moKmL1DKkDM2emFJfX1t8DM1zWgQIyYAlUP0DYAM1/XgHuawG+BmLNToHuv8x7gRgD9MiTvP4qBQ+w7ld09B86h0oBTQ7bqXU2h7qEe2VaXc8gbKeDeCxQE0PQCKR92AyUBHHuB1Fw+gKDk691kfbmRAAcpX+mdlA1F1UoBfYHl3GY8aMqAiyvQXG5DVTVSQLi84JtsCvTvfHCXdBtwuo8QshGu5wi9wzYSGJy9SReiWSEx5LscXJAF6usS8D4ZyhVsvonAS5F20ZXD48ClD0iXc+PjwNZdT5CmgXAGZzUG3/i+Gq5Qjx1AYNi+LfQ4gUMDUPQAW/Yp9mmg6gG2bM30FgGNzbW8gbxl8zhqeAMtZr0LOCCHEOhTrRZA1oErwISezhTCdISq/MhFEcBiUv6ATUD5in+p4ROgW3ZxoGD3MpECrv6Iws3AyaByTVvpdK3lmKUiSQO7eAgxBXby6Opr97PLrSv8mGkKC6MvxQUWRjTLM/6qi+QPyDh24okBJb5a5H2Q1+EdKMJ2ISw/UFfUSZSAc29CTkUV0xLlff+UFxPN+3O3YWJdW3ZxzdeveJfBXfaPg/Ewg49ja1mqQm6CG8vLV7zR0b3NglzTGnpHdjzS+vGfC+GpzOnG888F9ujfH/8BpkuVY7X+EkEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMDZUMTI6Mjc6MDQtMDY6MDBzY/jVAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTEzVDE4OjM2OjMzLTA1OjAwUF+HnQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},yCDQ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAPFBMVEX////w+f3D5/aW1e+Hz+3h8/ppxOkPoNtavubS7fi04fQept2l2/EtrOBLuOQ8suKH0O2l2/Lh8/t4yutopZv5AAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkILnC+YoAAALjSURBVFjD7ZnRAqwQEIYZ50jZpHr/dz1ha8Uw7HZ5/qvd6EvjxxBjThzEnx8lgLNTf+XwiNQYeJN+hnfo5XgjWW02by1k1ekAzmWOFTCyRCOsVhXv0Zy98JJFbKyibVX4fYJhHaJtlRbEBdZOw0x+UXEa52WROCFA1YjDiTlQZ+0DeyqLxNwAlJV2AN3EHChcRXGaXds7kKvTlMZ5DhqArhVb9H+8AUUUG/fkRiDc/lv09zBsbUD33LUJCFiv4EDbDDQkcHHAvQnouk+RQMOS55aBFvNNBpTtwL0JaFMzlIEGM2IGFE8DIZ3Ey0CdDIEyENqAAzZUMiBPfF0DurqaAmZzSAWIOTu9MKe+/hWY+boGFIgRU6DqAdoGYObrGnBPO/BXIObsFOjmdd4DHAmgX4bk/aYYuMW+U9nTc+AaMg04tWWr3lUU8h7qlW11OYe8kALuvUBBAE0vkPJhN1ASwKEXSI3lNxCUPOYm69ONBLhJeXTvpGxIqhYK6BMs5zbjQVMGnF2C5vo2ZFUDBYTLC77IpkA/54O7pNuA072FkLVwOVvoHTaSwODsUboQrQqJId/l5oIsUF+XgPfBUM5gs9mrkIq0i84cHgfOfUA6nRseB7bueoI0DYQzOIsx+Mb3KLhCPXQAgWH7tlDjBG4NQNEDbNmn2KeBqgfYsjXTYwQ0Ntf8AfKWzeOg4QO0mPUu4IYcQqBvtVgAWQcuABN6OlMI0ztU5VcuigAWO+U/sAkoj/iXCr4BumUXBwp2TxMp4OKPKNwInAwqVzSWTtdajlkqkjSwi4cQU2Anj86+dj+63LrC3yNNYWH0qbjAwoj28opPdZH8ARnHTjwxoMRXi7wOMh3egSJsF8LyA3VFlUQJuPZ2yKkoY5qjft+/5cVE8znU7TZMrGvLLq7x+hPvMrjr/XdSG0bw+9halrKQm+DG8vIZb3R0b7Mg17SE2pEdX+HK1x8XwluZ043qcyz/4OePf371jBg8qOwaAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDEyOjI2OjU5LTA2OjAwtZb8TwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNi0xM1QxODozNjozMi0wNTowMPYojCkAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},zPNi:function(e,t,a){"use strict";(function(e){var t=a("u7XG"),n=a("4iSt"),i=a("dk1r"),r=a("SsW3"),o=a("axR1"),s=a("Tqq3"),l=t.config.lines,A=t.config.commutes,d=n.storageBase.CtaStorage,c=s.helpers.reload;function u(t,a){2<arguments.length&&void 0!==arguments[2]&&arguments[2],new Awesomplete(t,{minChars:1,maxItems:20,autoFirst:!0,list:i.lStopsRaw,data:function(t,a){var n=[];return e(l).each(function(e,a){1===t[a]&&n.push(a)}),{label:t.STOP_NAME,value:{name:t.STOP_NAME,mapId:t.STOP_ID,stationid:t.MAP_ID,activeLines:n,stationName:t.STATION_NAME}}},replace:function(e){this.input.value=e.label,o.settingsStorage.clearFilterCache(a)}})}e().ready(function(){e(A).each(function(t,a){var n,i,o;(function(t){var a,n,i=document.getElementById(t+"-station-search"),o=t+"-commute-station",l=s.helpers.oppositeCommute(t)+"-destination-station";a=t,n=o,null===d.getItem(n)?(e("#am-station-search")[0].placeholder="Your AM Station",e("#pm-station-search")[0].placeholder="Your PM Station",e("#configure-commute").removeClass("hidden"),e(".configure-commute-explainer").removeClass("hidden"),e(".all-data-"+a).removeClass("hidden"),e(".trainData-"+a).addClass("hidden")):r.arrivalsStorage.currentCommuteTypeNotSet(a)||e(".switch.switch-horizontal").removeClass("hidden"),u(i,t),Awesomplete.$.bind(i,{"awesomplete-selectcomplete":function(t){var a=t.text.label,n=t.text.value;e("span."+o+"-label").empty(),e("span."+o+"-label").text(a);var i={mapId:n.mapId,stationid:n.stationid,stopName:a,activeLines:n.activeLines,stationName:n.stationName};d.setItem(o,JSON.stringify(i)),d.setItem(l,JSON.stringify(i)),r.arrivalsStorage.clearOldTrainArrivalData(),c({delay:0})}})})(a),n=a,i=document.getElementById(n+"-destination-station"),o=n+"-destination-station",u(i,n),Awesomplete.$.bind(i,{"awesomplete-selectcomplete":function(t){var a=t.text.label,n=t.text.value;e("span."+o+"-label").empty(),e("span."+o+"-label").text(a);var i={mapId:n.mapId,stationid:n.stationid,stopName:a,activeLines:n.activeLines,stationName:n.stationName};d.setItem(o,JSON.stringify(i)),r.arrivalsStorage.clearOldTrainArrivalData(),c({delay:0})}})})})}).call(this,a("EVdn"))},zmLm:function(e,t,a){}},[["tjUo",1,0,8,3,6,7]]]);