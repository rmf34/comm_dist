(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/HHy":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRouteData=void 0;var i=a("SsW3"),n=a("axR1"),r=a("u7XG"),o=a("Tqq3"),s=r.config.colorToObjMap,l=r.config.proxyUrl,A=r.config.colorToRouteMap,d="https://lapi.transitchicago.com/api/1.0/routes.aspx?outputType=JSON";function c(e){return l+d+e}function u(t,a,r,l,d){if(!["station","system"].includes(r))throw"Unknown type passed to: `forObject`!";void 0!==d&&e.ajax({url:t,type:"GET",async:!0}).done(function(t){var d=void 0;Array.isArray(t.CTARoutes.RouteInfo)?d=t.CTARoutes.RouteInfo:t.CTARoutes.RouteInfo&&(d=[t.CTARoutes.RouteInfo]);var c=i.arrivalsStorage.fetchStationDataFor(o.helpers.selectedCommute()).activeLines;e.each(c,function(t,a){e("select.settings."+l+"-train-filter").append(e("<option value='"+a+"'>"+s[a].name+"</option>"))}),e(d).each(function(t,i){var n=void 0,o=0;if("station"===r){o+=1;var l=A[i.RouteColorCode.toLowerCase()],d=s[l];if(void 0===l||void 0===d)throw"Look at keys in colorToRouteMap or colorToObjMap, a key is likely missing";c.includes(s[l].routeId)&&(n="<li class='route-data filter-"+d.routeId+"'><img class='train-icon' src='"+d.icon+"' height='80' width='80' /><b><a target='_blank' href='"+d.routeUrl+"' style='color: #"+i.RouteColorCode+";'>"+i.RouteStatus+"</b></li>")}else"system"===r&&"000000"!==i.RouteColorCode&&null!==i.RouteColorCode&&(o+=1,e(".system-overall.hidden").removeClass("hidden"),n="<li class='routedata'><b style='color: #"+i.RouteColorCode+";'>"+i.Route+" - "+i.RouteStatus+"</b></li>");0<o&&e("ul."+a).append(n)});var u=n.settingsStorage.lineFilterSetting(l);e("select.settings."+l+"-train-filter").val(u),n.settingsStorage.handleShowHideRoutes(l,u)}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}t.fetchRouteData=function(e){var t=void 0,a=e.printAm,n=e.printPm,r=e.printSys;if(a){if(void 0===(t=i.arrivalsStorage.fetchStationDataFor("am").stationid))return;u(c("&stationid="+t),"routedata-am","station","am",t)}if(n){if(void 0===(t=i.arrivalsStorage.fetchStationDataFor("pm").stationid))return;u(c("&stationid="+t),"routedata-pm","station","pm",t)}r&&u(c("&type=systemwide"),"system-overall","system",t)}}).call(this,a("EVdn"))},"0d1/":function(e,t,a){},"0qHD":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a={setArrived:function(){e(".boarded-wrapper").removeClass("animate-boarded"),e(".boarded-wrapper").addClass("boarded-arrived"),e(".boarded-wrapper").removeClass("hidden")},showRideBanner:function(){e(".boarded-wrapper").removeClass("boarded-arrived"),e(".boarded-wrapper").addClass("animate-boarded"),e(".boarded-wrapper").removeClass("hidden")}};t.followersHelper=a}).call(this,a("EVdn"))},"1A/C":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAASFBMVEX////08vjUy+O0o8+plsjq5fGUfbpULpGKcLTf2OrJvdxfO5i/sNZpSJ9/Yq10Vaaql8i0pM/Uy+S/sdaJb7OUfLrKvt2ficGhPo1gAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALtSURBVFjD7ZnRgqMgDEVluo7jWBEQ9P//dAyoRQgEWh/3PrWCRwwXCNg0IPb1+PehHl+sOdR+d7fop3e83+Ee3qYn8Hqy2sh3TWTV3w04pjlCqr4J1KtZ6OQ9A2ueeMkk2yajdtb4fY8G65BBZGlOTGLt5A2PL2pG46wEEicEqAtxODEGDlH7lDgURWIsAJpMOxTdxBgooaI8zD6IK5Dpw5R8gcYXAKEVrfe/vwClFxt4ciFQXf4L9HfXtWVAeO5cBFRYr+BAUQzkJHAC4FoEhO7TJJA3wXPTQIH5JgKacuBaBBShGdJAjhkxAsq7gSqcxNPAIRgCaaAqA3bYUImALPB1Dgh1BwoYzSEZIObs8MIY+vpTYOTrHFAiRgyBugYoCoCRr3PANezAT4GYs0MgzOusBtgTQLsMmetNPrD1faejp8fA2WUa6lAbrXpnkct7qFcW2eVcxYUUcK0FSgLIa4GUD6uBhgB2tUBqLO9Apc02NwmbbgTA1pitexctXFI1UUCbYIHbuAUtEXCEBA361mVVHQVUpxdskQiBds5XcGkoAy7XFqqohdPRQuuwngQ6Z/cGQjRrJIZsNS0EWaK+TgGvgyGdwUazVyIVKRedOdwOHOuAdDrX3Q4s3fU4DTRQHcGZOMc3vlvBGequAqgabN/mahzAtgAoa4Al+xRxN1DXAEu2ZkPvAbmINb6ArGTz2A3qBRSY9U5gixxCoG81CaVMHjgptRjk1i4Rpj1U6VdOigAmO+U/sAhotvinCt4BwrKLA2VzTRMp4GSPKGAELhwVFPWp07WSY5aMDA2s4iHEEFjJo7Ov1Y4uWFfYPtI0FkabikssjGgvz/hU58kekDHsxBMDGny1iOsg0+EVKN12wS0/Ki+vkkwB59oOOeRlTKN3ZLq+y/OJ/HWoW20YX+tBeZzj9SPeaXDo/T2pdSN4P7Y2qSzkInVhWcHBuH90L6Ig5zS52p4dn+7K2x8X3Fvxw40/r2P5Gz9//AHqnJnSD74HIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowNC0wNjowMHNj+NUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},"1Tf0":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={hour:"numeric",minute:"numeric",hour12:!0},n={parseCtaTime:function(e){var t=e.split("T"),a=t[0].split("-"),i=t[1].split(":");return new Date(a[0],a[1]-1,a[2],i[0],i[1],i[2])},printDate:function(e){return!0==(this.parseCtaTime(e).setHours(0,0,0,0)===(new Date).setHours(0,0,0,0))?"Today":this.parseCtaTime(e).toLocaleDateString(navigator.language)},printPlainDate:function(e){var t=new Date(e);return[("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2),t.getFullYear().toString().substr(-2)].join("/")},printTime:function(e){return this.parseCtaTime(e).toLocaleTimeString(navigator.language,i).replace(/(:\d{2})$/,"")},printPlainTime:function(e){return new Date(e).toLocaleTimeString(navigator.language,i).replace(/(:\d{2})$/,"")},calcPercentChange:function(e,t){return(this.getTimeDiff(e,t)/e.getTime()*100*60*1e3*100).toFixed(2)},getTimeDiff:function(e,t){return e.getTime()-t.getTime()}};t.timeHelper=n},"26kM":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAlertData=void 0;var i=a("axR1"),n=a("SsW3"),r=a("VpB4"),o=a("XKyZ"),s=a("u7XG"),l=a("N5v+"),A=s.config.proxyUrl,d=a("8v78"),c="https://lapi.transitchicago.com/api/1.0/alerts.aspx?outputType=JSON";function u(e){return A+c+e}var g={am:[],pm:[]};function p(t,a,i){e.ajax({url:t,type:"GET",async:!0}).done(function(t){var n=t.CTAAlerts.Alert;e(n).each(function(t,n){var s=void 0,A=n.SeverityColor,c=parseInt(n.SeverityScore,10)>r.alertsStorage.alertSeverityThreshold()?"":"hidden";"000000"===A&&(A="999");var u="<div id='alert-details-modal-"+n.AlertId+"' class='alert-details-modal hidden'><div class='alert-details-modal-inner'><h2>Alert Details</h2><hr><div class='alert-full-description '>"+n.FullDescription["#cdata-section"]+"</div></div></div>",p="<span><a class='alert-details-trigger' href='#alert-details-modal-"+n.AlertId+"' rel='modal:open'>Alert Details</a></span>";g[i].includes(n.AlertId)||(g[i].push(n.AlertId),s="<li data-alert-id='"+n.AlertId+"' data-sev='"+n.SeverityScore+"' class='alertbox alertbox-"+n.AlertId+" "+c+" "+o.alertsHelper.alertMuteClass(n)+"' style='background-color: #"+A+";'><a style='color: white;' href='"+n.AlertURL["#cdata-section"]+"' target='_blank' title='Link to CTA alert page'><h2>"+n.Headline+"</h2></a>"+o.alertsHelper.printEventDetails(n)+"<span class='sev-score' title='"+(0,l.getSeverityFromSevScore)(n.SeverityScore,"explainer")+"'></span><img src='"+d+"' class='icon close-icon'/><p>"+n.ShortDescription+"</p><div class='impact-details'><p><b>Impacting:</b> "+o.alertsHelper.printImpactedLines(n)+"</p></div>"+u+p+"</li>"),e("ul."+a).append(s),0<e("."+a).find("li.alertbox").not(".hidden").length?e("."+a+".hidden").removeClass("hidden"):e("."+a).addClass("hidden")}),e("img.close-icon").off("click"),e("img.close-icon").click(function(){var t=e(this).parent().data().alertId,a=e(this).parent().data().sev;r.alertsStorage.muteAlert(t,a),e(this).parent().remove()}),o.alertsHelper.readAlertDetailsSetting()}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}t.fetchAlertData=function(e){var t="&activeonly=true&accessibility="+i.settingsStorage.getSetting("accessibilitySetting"),a=e.printAm,r=e.printPm;if(a){var o=[n.arrivalsStorage.fetchStationDataFor("am").stationid,n.arrivalsStorage.fetchDestinationStationDataFor("am").stationid];if(0===o.join(",").replace(/,/,"").length)return;o.forEach(function(e){p(u(t+"&stationid="+e),"station-alerts-am","am")});var s=n.arrivalsStorage.fetchStationDataFor("am").activeLines||[];if(0===s.length)return;p(u(t+"&routeid="+s.join()),"system-alerts","am")}if(r){var l=[n.arrivalsStorage.fetchStationDataFor("pm").stationid,n.arrivalsStorage.fetchDestinationStationDataFor("pm").stationid];if(0===l.join(",").replace(/,/,"").length)return;l.forEach(function(e){p(u(t+"&stationid="+e),"station-alerts-pm","pm")});var A=n.arrivalsStorage.fetchStationDataFor("pm").activeLines||[];if(0===A.length)return;p(u(t+"&routeid="+A.join()),"system-alerts","pm")}}}).call(this,a("EVdn"))},"32mN":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAQlBMVEX////18vHYzca6p5uwm43r5uOdgnFiNxyTdmPh2dTOwLhsRCrEtKp2UDiJaVV/XUexm466qJzi2tT18/HOwbinj396FHPnAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALoSURBVFjD7ZnbgqsgDEVpekRmUAQv//+rR6BahECg9XH2Uyu4xLCBgIxZPeD570s94cEOdby/ReLH837lPbxdg+X9kNVG9dJEVv3dgWOeow3MLNIMgxbZe+SDDXjJZDpWUDcI/L4nwzpE6iLNazFYOxVT6UWx0DgnjcQJAYpKHE5MgTJpH+hDSSTGCiAvtAPoJqZAYyuaw+xSX4GLOEypVtv4CqBtRRf8ny9AE8TGPrkSCJf/Gv3d910d0D53qAIC1is4UFcDFQmcLHCrAtruEyRQsei5eaDGfJMAeT1wqwLq2Ax5oMKMmADN3UDbdXMdUEZDIA+EOmCPDZUEuES+LgFtXUkBkzmkAMScHV8YY19/C0x8XQIaxIgxULQAdQUw8XUJuMUd+C0Qc3YMtPP60gKcCaBbhvj1phDYhb4TydNT4OAzDTjUJaveWeTzHuqVdXE5h7SQAm6tQEMAVSuQ8mEzkBPAvhVIjeUXEATf5ybt0o0I2HG+d+8qtE+qJgroEizrNuVAawIcbYJm+9ZnVT0FhNMLrkjHQDfng70k64DrtYWQtHA6WugcNpNA7+yZ2xANAonhsvHOBtmgvs4Br4Mhn8Gmmwg8FakXnTncDhzbgHQ6198OrN31eEkaCEdwJqXwje9ecIa6bwACw/ZtvsYB7CqApgVYs0/RdwNFC7BmaybnAKh0qvENXGo2j72EN1Bj1juBHXIIgb7VpAF4GTgBrOjpTCZMr1DlXzkrApjtlD9gFZDv8c8VfAK0yy4ONOyaJlLAyR1R2BG4KlS2aM6drtUcsxTEaWATDyHGwEYenX1tbnTZdWV5jTSBhdGl4gYLI9rLAz7VBXIHZAt24okBOb5apHWQ6fAKNH674JcfKCuoZHLAobVDDgUZ0xj0+/YpLySq9+9mw4Q6t+zPc7x+xTsNLh/nwbgfwa9ja57LQi6CC8vJHoyHR/c6CXJJk68d2PHVrR9/XPBvpQ43Hh8X2K2fP/4DqlyN7WEfNngAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMDZUMTI6Mjc6MDAtMDY6MDCHLNzGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTEzVDE4OjM2OjMzLTA1OjAwUF+HnQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},"4iSt":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={CtaStorage:window.location.href.match(/github.io/)?window.localStorage:window.sessionStorage,allKeys:function(){return Object.keys(this.CtaStorage)},storageEmpty:function(){return 0===this.allKeys().length},clear:function(){this.CtaStorage.clear()}};t.storageBase=i},"5EEt":function(e,t,a){},"7BZG":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAARVBMVEX////+9PH70cj4r5/3pJH96OT2jnbwSST1gmn83db6xrrxVDL5uq3yYD/0d1vza034pJL70sj5u631gmj2jXb6xrv3mYQKNvCmAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALrSURBVFjD7Zlho6wQEIZz3G6n4yQT9f9/6g3VimHY7eN9P+1GTxovhrrOin3xPx+Kf7HuVP93eETfo+f9iGd4u34tbySrTfLQTFb92YFTnqM4jF2kERals/cI1v3iJTPvu4L6ReP38Q7rEKGKNC/GsXbKTqYXNaNxTgqJEwLUlTicmAJF0j5Qp5JITBVAU2gH0E1MgdxW5KfZhboDmT5NKVfb+AqgbUUf/B9vQB7Exj65Egi3/wr9PQx9HdA+d6kCAtYrOFBVAyUJnC1wqwLa7tMkUHbRc/NAhfkmAZp64FYFVLEZ8kCJGTEB8qeBEE/ieaCIhkAeCHXAARsqCZBFvi4BbV1BAZM5pADEnB1fmGJffwpMfF0CcsSIMVC3AFUFMPF1CbjFHfgpEHN2DLTzOmsBjgTQLUPmflMI7EPf6eTpKXDxmQac6pNV7yryeQ/1yqq4nENaSAG3ViAngLIVSPmwGWgI4NAKpMbyAQRt9rlJuXQjAvbG7N27auWTqpkCugTLuk060JoAJ5ug2b71WdVAAeHygitSMdDN+WAviTrgem8hJC2czxY6h40k0Dt7NDZEi0ZiyDbT2yBz1Nc54H0w5DPYZPbKpCL1ojOHx4FTG5BO54bHgbW7Hi9BA+EMziwlvvHdC65QDw1A6LB9m69xAvsKIG8B1uxT1NNA3QKs2ZqJMQBKlWp6AVnN5nEQ8AIqzHoXsEcOIdC3mhWAKQNngNUgtw6ZMB2hyr9yVgQw2yn/gVVAs8c/V/AO0C67OJB39zSRAs7uiMKOwFWiskVj7nSt5pilIEMDm3gIMQY28ujsa3Ojy64r7BhpGgujS8U5Fka0lxd8qgvkDsgYduKJAQ2+WqR1kOnwDuR+u+CXHygrqMRzwKW1Q04FGdMUHJlu7/JConwd6jYbJtS1ZefXeP2Idxnc9v6R1PoRfBxbm1wWchPcWE72YDw8uldJkEuafe3Ajr/+ytsfF/xbydON369j+Qc/f/wDdJyX9oWvCJ8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMDZUMTI6Mjc6MDQtMDY6MDBzY/jVAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTEzVDE4OjM2OjMzLTA1OjAwUF+HnQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},"7aQF":function(e,t,a){},"8v78":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAB70lEQVRYCe2WW44TQQxFw2MPwAJgJfyxTkCMRrwkWAzhK6yCx4jxUdeRbkrpSdVHkp9YclfZvr6ucj+qN5urXDtw4Q48Gaz/qHCnwA6Vf9yhWMya9LE+dy1v1f+0RV7U+KZU+xCxPjBgyUHMWayJq4mvKudn6f/Sr6X6LViujXNiYMBuS8lFzFmsgauEEPwqhfB3G7/X6PMATiw+Yondle0ixJXrYfE+PisYu4Dwbxv/tPFbjUnIHB9YMeb8KB9ciNyLtXKV+HXFk5B52hRU+uI9Fi5E7sUauL4vTBbtiT9UHH0I867VGdp9w+616nalwL/mp3jOczHkKlMLICnb9bFsiL2vzNG7ptqJIUdJLn1DYyZ+qgwK9LvN4sbAKsmhb2pMgreVSUF2noXTB0bJXH1741HAHnrsNZq+112NPTMX+Lki7NQ29x3IGFglOfQNjZl49ocw22hxv3DuPDuRc+Ji801IzqEOADr2IbopDJpFXaCLgGNKbP3FPsW2igOEg4Qd+QFyVyc9jGiXXXhZ810pi/A4zuLgxDJ6KIklFw5E3GINXD3zOc+3pSyC10t/Ejon9qVhybG4OeWaE/9k+L3iN0siCyabPjBgn7egHImdmktsks+Ido59rM9N7NQcYnbWFzhEMoM9lH/1nbcD9wbI07aXXJEHAAAAAElFTkSuQmCC"},COMZ:function(e,t,a){},F9z5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[{pct:0,color:{r:255,g:0,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:0,g:255,b:0}}];function n(e){return e<0?0:255<e?255:e}t.getColorForPercentage=function(e){var t=void 0;for(t=1;t<i.length-1&&!(e<i[t].pct);t+=1);var a=i[t-1],r=i[t],o=r.pct-a.pct,s=(e-a.pct)/o,l=1-s,A=s,d={r:n(Math.floor(a.color.r*l+r.color.r*A)),g:n(Math.floor(a.color.g*l+r.color.g*A)),b:n(Math.floor(a.color.b*l+r.color.b*A))};return"rgb("+[d.r,d.g,d.b].join(",")+")"}},"K+rZ":function(e,t,a){"use strict";function i(e){return e<10?"0"+e:e}function n(e,t){return i(e)+":"+i(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.displayCountdown=function(e,t,a){return!0===e?0===t&&0===a?n(t,a):t<0&&a<0?"-"+n(-t,-a):t<=0&&a<=0?"-"+n(-t,-a):n(t,a):t<=0&&a<=0?"MISSED":n(t,a)}},KDmf:function(e,t,a){},KWM7:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.ctaCommuteOptimizer=void 0;var i=a("Tqq3"),n=a("u7XG"),r=a("SsW3"),o=a("4iSt"),s=a("j9hV"),l=a("/HHy"),A=a("26kM"),d=a("up33"),c=a("m5Zo"),u=a("axR1"),g=a("VpB4"),p=a("hYaO"),f=a("1Tf0"),m=n.config.commutes,h=o.storageBase.CtaStorage;function v(e){return!(0<Object.keys(e).length)}t.ctaCommuteOptimizer=function(){var t=void 0,a=void 0;function n(e){return{stationid:r.arrivalsStorage.fetchStationDataFor(e).stationid,mapId:r.arrivalsStorage.fetchStationDataFor(e).mapId}}function S(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{forceAmPmVal:void 0},o=void 0;if(void 0===!r.forceAmPmVal||r.forceAmPmVal){if(t="am"===r.forceAmPmVal,a="pm"===r.forceAmPmVal,e("div.all-data-"+r.forceAmPmVal).removeClass("hidden"),e("div.all-data-"+i.helpers.oppositeCommute(r.forceAmPmVal)).addClass("hidden"),0<e("ul.trainData-"+r.forceAmPmVal).find("li").length)return void i.helpers.unhidePageContent();o=n(r.forceAmPmVal),(0,s.fetchTrainArrivalData)(r.forceAmPmVal,o)}if(void 0===r.forceAmPmVal){var d=i.helpers.getCommuteType();t="am"===d,a="pm"===d,e("#radio-"+d).prop("checked",!0),o=n(d),(0,s.fetchTrainArrivalData)(d,o)}(0,l.fetchRouteData)({printAm:t,printPm:a,printSys:!0}),(0,A.fetchAlertData)({printAm:t,printPm:a,printSys:!0})}e().ready(function(){e(m).each(function(t,a){(o.storageBase.storageEmpty()||r.arrivalsStorage.currentCommuteTypeNotSet(a))&&i.helpers.hideLoader();var n=r.arrivalsStorage.fetchStationDataFor(a),s=r.arrivalsStorage.fetchDestinationStationDataFor(a);v(n)||e("h2."+a+"-commute-station-label").text(n.stopName+" to: "),v(s)||(e("h2."+a+"-destination-station-label").text(r.arrivalsStorage.fetchDestinationStationDataFor(a).stationName),e("h2."+a+"-destination-station-label").removeClass("hidden"),e(".station-setting.destination").removeClass("hidden")),v(n)&&e(".station-setting.destination").addClass("hidden")}),e("#settings-menu").superfish({delay:100,speed:"fast"}),e("#trainHeading").prop("checked",u.settingsStorage.getSetting("trainHeading")),e("#trainHeading").on("change",function(){u.settingsStorage.updateSetting("trainHeading",!0===this.checked),e("canvas.compass").toggleClass("hidden")}),e("#trainConfidence").prop("checked",u.settingsStorage.getSetting("trainConfidence")),e("#trainConfidence").on("change",function(){u.settingsStorage.updateSetting("trainConfidence",!0===this.checked),e("span.confidence").toggleClass("hidden")}),e("#predictionDiff").prop("checked",u.settingsStorage.getSetting("predictionDiff")),e("#predictionDiff").on("change",function(){u.settingsStorage.updateSetting("predictionDiff",!0===this.checked),e("span.diff").toggleClass("hidden")}),e("#trainRunNumber").prop("checked",u.settingsStorage.getSetting("trainRunNumber")),e("#trainRunNumber").on("change",function(){u.settingsStorage.updateSetting("trainRunNumber",!0===this.checked),e("span.train-run-number").toggleClass("hidden")}),e("#routeName").prop("checked",u.settingsStorage.getSetting("routeName")),e("#routeName").on("change",function(){u.settingsStorage.updateSetting("routeName",!0===this.checked),e("span.route-name").toggleClass("hidden")}),e("#alertDetails").prop("checked",u.settingsStorage.getSetting("alertDetails")),e("#alertDetails").on("change",function(){u.settingsStorage.updateSetting("alertDetails",!0===this.checked),e(".event-details").toggleClass("hidden"),e(".impact-details").toggleClass("hidden")}),e("#accessibilitySetting").prop("checked",u.settingsStorage.getSetting("accessibilitySetting")),e("#accessibilitySetting").on("change",function(){u.settingsStorage.updateSetting("accessibilitySetting",!0===this.checked),i.helpers.reload()}),e("select.settings.alert-threshold").val(u.settingsStorage.getSetting("alertThreshold")),e("select.settings.alert-threshold").on("change",function(){u.settingsStorage.updateSetting("alertThreshold",parseInt(this.value,10)),e("li.alertbox").each(function(t,a){e(a).data().sev>g.alertsStorage.alertSeverityThreshold()?e(a).removeClass("hidden"):e(a).addClass("hidden")}),e(["station-alerts-am","station-alerts-pm","system-alerts","system-overall"]).each(function(t,a){0<e("."+a).find("li.alertbox").not(".hidden").length?e("."+a+".hidden").removeClass("hidden"):e("."+a).addClass("hidden")})}),e("select.settings.arrival-time-pad").val(u.settingsStorage.fetchSettingsObj().padArrivals),e("select.settings.arrival-time-pad").on("change",function(){u.settingsStorage.updateSetting("padArrivals",parseInt(this.value,10)),i.helpers.reload()}),e("span.settings.reset-muted-alerts").off(),e("span.settings.reset-muted-alerts").click(function(){h.removeItem(g.alertsStorage.MUTED_ALERTS_KEY),i.helpers.reload()}),e("span.settings.reset-commute").off(),e("span.settings.reset-commute").click(function(){h.clear(),i.helpers.reload()}),e("span.ride-history-trigger").off(),e("span.ride-history-trigger").click(function(){var t=c.followersStorage.rideHistory().rides,a=[],i="<li>No ride data. Go ride some trains!</li>";e("ul.ride-history-list").empty(),0===t.length?e("ul.ride-history-list").append(i):(e.each(t,function(e,t){a.push("<li class='ride-history ride-history-"+e+"'>"+t.lineName+" #"+t.runNum+" to "+t.destinationName+" &#8212; <span title='Boarded at'>"+f.timeHelper.printPlainDate(t.boardedAt)+" - "+f.timeHelper.printPlainTime(t.boardedAt)+"</span> <a class='ride-delete' data-ride-delete="+e+" href='#'>Delete</a></li>")}),e("ul.ride-history-list").append(a.join("")),e(".ride-delete").click(function(){var t=e(this).data("rideDelete");c.followersStorage.deleteByIndex(t),e(this).parent().remove(),0===e(e(this).parent().parent()[0]).find("li").length&&e("ul.ride-history-list").append(i)}))}),e(".switch-horizontal").off(),e(".switch-horizontal").click(function(t){var a=t.target.id.split("-")[1];0===e("ul.trainData-"+a).find("li").length&&(i.helpers.hidePageContent(),i.helpers.showLoader())}),e(m).each(function(t,a){e("select.settings."+a+"-train-filter").on("change",function(){var e=this.value;u.settingsStorage.updateSetting(a+"LineDisplay",e),u.settingsStorage.handleShowHideRoutes(a,e),p.arrivalsHelper.handleShowHideArrivals(a,e)}),e("#radio-"+a).off(),e("#radio-"+a).click(function(e){S({forceAmPmVal:i.helpers.selectedCommute()})})})}),S(),setTimeout(function(){i.helpers.setInputFocus(),d.followersData.hasRecentRide()},20)}}).call(this,a("EVdn"))},MGV5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAP1BMVEX////99/n43+nyxtjwvtL77/Ttr8jifqbrpsL65+721+Pkhqz0zt3mjrHpnrznlrfxv9Pyx9j0z97trsfvts1xS5QmAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALnSURBVFjD7ZnRAqwQEIYzezopm0jv/6wnVCuGYbfL81/tRl8aP4a6zorB68+PegHrTvV/h0fER8+bxDO8XW/LG8lqszy0kFWnHTjnOUrD2EUaYVU8e49g3RsvWXTfFdSvHL/v1WEdIlSR5sU01k7ZyfQiZzTOSSFxQoC8EocTU6BI2gfqVBKJuQJoCu0AuokpUNuK+jS7UHcg46cppfUcVABtK/rg/3gD6iA29smVQLj9V+jvYejrgPa5axUQsF7BgaoaKEngYoFbFdB2HyeBsouemwcqzDcJ0NQDtyqgis2QB0rMiAlQPw2EeBLPA0U0BPJAqAMO2FBJgCzydQlo6woKmMwhBSDm7PjCHPv6V2Di6xJQI0aMgbwFqCqAia9LwC3uwF+BmLNjoJ3XWQtwJIBuGTL3m0JgH/qOJ09PgavPNOBUn6x6V5HPe6hXVsXlHNJCCri1AjUBlK1AyofNQEMAh1YgNZYPIHCzz03KpRsRsDdm796JK59ULRTQJVjWbdKBpgQ42wTN9q3PqgYKCJcXXJGKgW7OB3tJ1AGnewshaeFyttA5bCSB3tmjsSFaORJDtpneBlmjvs4B74Mhn8Ems1cmFakXnTk8DpzbgHQ6NzwOrN31eAkaCGdwFinxje9ecIV6aABCh+3bfI0T2FcAdQuwZp+ingbyFmDN1kyMAVCqVPMHyGo2j4OAD1Bh1ruAPXIIgb7VogBMGbgATAa5dciE6QhV/pWzIoDZTvkPrAKaPf65gm+AdtnFgbq7p4kUcHFHFHYEThKVLRpzp2s1xywFGRrYxEOIMbCRR2dfmxtddl1hx0jjWBhdKq6xMKK9vOJTXSB3QMawE08MaPDVIq2DTId3oPbbBb/8QFlBJZ0Drq0dcirImObgyHT7lhcS5edQt9kwoa4t++sarz/xLoPb3j+SWj+Cj2Nrk8tCboIby8llvMHRvUqCXNLiawd2fPsrX39c8G8lTzfyz7H8g58//gFzK41EEkDntQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowNC0wNjowMHNj+NUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},NinT:function(e,t,a){},P8MM:function(e,t,a){},PGGC:function(e,t,a){},SsW3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrivalsStorage=void 0;var i=a("4iSt"),n=a("Tqq3"),r="ctaPredict",o=i.storageBase.CtaStorage,s={currentCommuteTypeNotSet:function(e){return null===o.getItem(n.helpers.oppositeCommute(e)+"-commute-station")},fetchStationDataFor:function(e){var t=o.getItem(e+"-commute-station");return null===t?{}:JSON.parse(t)},fetchDestinationStationDataFor:function(e){var t=o.getItem(e+"-destination-station");return null===t?{}:JSON.parse(t)},clearOldTrainArrivalData:function(){i.storageBase.allKeys().forEach(function(e){var t,a;e.match(/ctaPredict/)&&e.split("-")[0]===r&&(a=e,t=JSON.parse(o.getItem(a)).updatedAt,3e5<n.helpers.now()-t)&&o.removeItem(e)})},getArrivalPredictions:function(e,t){var a,i,s=(i=t,r+"-"+(a=e).rt+"-"+a.rn+"-"+a.destNm+"-"+i),l=JSON.parse(o.getItem(s))||{values:[],updatedAt:null};return l.values.push(e.arrT),l.updatedAt=n.helpers.now(),o.setItem(s,JSON.stringify(l)),l.values[l.values.length-2]}};t.arrivalsStorage=s},Tqq3:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.helpers=void 0;var i=a("u7XG"),n={getCommuteType:function(){var e=(new Date).getHours();return 4<e&&e<12?"am":"pm"},now:function(){return(new Date).getTime()},reload:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{delay:i.config.reloadDefaultWait};function a(){return window.location.reload()}e(".overlay-wrapper").addClass("overlay"),t&&t.delay?(this.showLoader(),setTimeout(function(){a()},t.delay)):a()},hidePageContent:function(){e(".content-wrapper").addClass("hidden")},unhidePageContent:function(){e(".content-wrapper").removeClass("hidden")},showLoader:function(){e("img.loading-gif").removeClass("hidden")},hideLoader:function(){e("img.loading-gif").addClass("hidden")},showFooter:function(){e("footer").removeClass("hidden")},selectedCommute:function(){return!0===e("#radio-pm[name='am-pm']")[0].checked?"pm":"am"},setInputFocus:function(){e("#am-station-search").is(":visible")?e("input#am-station-search").focus():e("#pm-station-search").is(":visible")&&e("input#pm-station-search").focus()},oppositeCommute:function(e){return"am"===e.toLowerCase()?"pm":"am"}};t.helpers=n}).call(this,a("EVdn"))},VpB4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alertsStorage=void 0;var i=a("4iSt"),n=a("axR1"),r=a("Tqq3"),o=a("N5v+"),s=i.storageBase.CtaStorage,l="cta-muted-alerts";function A(){return JSON.parse(s.getItem(l))||{updatedAt:r.helpers.now(),mutedAlerts:[]}}var d={MUTED_ALERTS_KEY:l,alertObject:A(),muteAlert:function(e,t){var a=A();a.mutedAlerts.push({alertId:e,sev:t,updatedAt:r.helpers.now()}),a.updatedAt=r.helpers.now(),s.setItem(l,JSON.stringify(a))},alertSeverityThreshold:function(){return o.severityScores[n.settingsStorage.fetchSettingsObj().alertThreshold].lowSev},shouldDisplayAlert:function(e,t){var a=this;return a.alertId=e,a.sevNew=t,a.shouldDisplay=!0,A().mutedAlerts.forEach(function(e){if(n=e.alertId,r=a.alertId,parseInt(n,10)===parseInt(r,10)&&(t=e.sev,i=a.sevNew,parseInt(t,10)<=parseInt(i,10)))a.shouldDisplay=!1;else var t,i,n,r}),a.shouldDisplay}};t.alertsStorage=d},"Vr/x":function(e,t,a){},XKyZ:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.alertsHelper=void 0;var i=a("VpB4"),n=a("axR1"),r=a("1Tf0"),o=a("N5v+"),s={T:"Station",R:"'L'"};function l(e){return null===e?"ONGOING":r.timeHelper.printTime(e)+" "+r.timeHelper.printDate(e)}var A={alertMuteClass:function(e){return!0===i.alertsStorage.shouldDisplayAlert(e.AlertId,e.SeverityScore)?"":"hidden"},printEventDetails:function(e){return"<p class='event-details hidden'><span class='alert-timeframe'>"+l(e.EventStart)+" &#8212; "+l(e.EventEnd)+"</span><span class='right'>severity: "+(0,o.getSeverityFromSevScore)(e.SeverityScore,"long")+"&#8212 <span title='CTA Severity Rating'>("+e.SeverityScore+")</span></span></p>"},printImpactedLines:function(e){var t=[],a=e.ImpactedService.Service;return Array.isArray(a)||(a=[a]),a.forEach(function(e){["T","R"].includes(e.ServiceType)&&t.push("<span>"+e.ServiceName+" "+s[e.ServiceType]+"</span>")}),t.join(", ")},readAlertDetailsSetting:function(){!0===n.settingsStorage.getSetting("alertDetails")?(e(".event-details").removeClass("hidden"),e(".impact-details").removeClass("hidden")):(e(".event-details").addClass("hidden"),e(".impact-details").addClass("hidden"))}};t.alertsHelper=A}).call(this,a("EVdn"))},YJKL:function(e,t,a){e.exports=a.p+"airport-icon.729295fbe58ffe5a762c.png"},ZuAq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diffColor=function(e){return 0===e?"#ddd":e<-29?"#e60000":e<5?"#e8564e":29<e?"#60ed44":5<e?"#9eff9e":"#ddd"},t.formatDiff=function(e){var t=parseFloat(e);return 0===t?""+t:29<t?"++"+t:0<t?"+"+t:t<-29?"-"+t:t<0?""+t:void 0}},axR1:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.settingsStorage=void 0;var i=a("4iSt"),n=a("Tqq3"),r=i.storageBase.CtaStorage,o=n.helpers.now,s={SETTINGS_KEY:"cta-settings",fetchSettingsObj:function(){return JSON.parse(r.getItem(this.SETTINGS_KEY))||{accessibilitySetting:!1,alertThreshold:2,alertDetails:!1,padArrivals:0,amLineDisplay:"all",pmLineDisplay:"all",predictionDiff:!0,routeName:!0,trainConfidence:!0,trainHeading:!0,trainRunNumber:!0,updatedAt:o()}},lineFilterSetting:function(e){return this.fetchSettingsObj()[e+"LineDisplay"]},inclusivePurpleClassKey:function(e){return"Pexp"===e?"P,Pexp":e},filterSelection:function(e){return this.inclusivePurpleClassKey(this.lineFilterSetting(e))},clearFilterCache:function(e){this.updateSetting(e+"LineDisplay","all")},settingOff:function(e){return!this.getSetting(e)},getSetting:function(e){return this.fetchSettingsObj()[e]},updateSetting:function(e,t){var a=this.fetchSettingsObj();a.updatedAt=o(),a[e]=t,r.setItem(this.SETTINGS_KEY,JSON.stringify(a))},hideShowRoutes:function(t){var a=this.filterSelection(t);e("ul.routedata-"+t).find(e(".route-data:not(.filter-"+a+")")).addClass("hidden"),e("ul.routedata-"+t).find(e(".filter-"+a)).removeClass("hidden")},showAllRoutes:function(t){e("ul.routedata-"+t).find(e(".route-data")).removeClass("hidden")},handleShowHideRoutes:function(e,t){return"all"===t?this.showAllRoutes(e):this.hideShowRoutes(e)}};t.settingsStorage=s}).call(this,a("EVdn"))},csdy:function(e,t,a){},"d/My":function(e,t,a){},hYaO:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.arrivalsHelper=void 0;var i=a("u7XG"),n=a("axR1"),r=a("up33"),o=i.config.colorToObjMap,s=a("YJKL"),l={showDataSectionFor:function(t){e(".all-data-"+t).removeClass("hidden")},showTrainFilterFor:function(t){e(".settings."+t+"-train-filter.hidden").removeClass("hidden")},handleShowHideArrivals:function(t,a){var i,r;"all"===a?e("ul.trainData-"+t).find(e(".arrival-time")).removeClass("hidden"):(i=t,r=n.settingsStorage.filterSelection(i),e("ul.trainData-"+i).find(e(".arrival-time:not(.filter-"+r+")")).addClass("hidden"),e("ul.trainData-"+i).find(e(".filter-"+r)).removeClass("hidden"))},setRideListeners:function(){e(".line-detail").off("click"),e(".line-detail").on("click",function(t){var a=e(t.target).parent().data();r.followersData.boardTrain(a.runNumber,a.lineName)})},routeName:function(e){return o[e.rt].name},trainColor:function(e){return o[e.rt].color},delayedText:function(e){return"0"===e.isDly?"":"DELAYED"},isDelayed:function(e){return"1"===e.isDly},airportBound:function(e){return!!Object.keys(i.config.airportBoundLines).includes(e.rt)&&parseInt(i.config.airportBoundLines[e.rt],10)===parseInt(e.trDr,10)},airportIcon:function(e){return this.airportBound(e)?"<img title='Airport Bound' class='airport-icon' src="+s+" height='50' width='50' />":""}};t.arrivalsHelper=l}).call(this,a("EVdn"))},iGxs:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAS1BMVEX////v+fTB5tGS06+DzaTg8uhkwY4Hm0lVuoLQ7N2x4MYXoVSi2bomqGBFtHc2rmuT06/B5tLR7N2i2rvg8+jw+fRkwY2y4MZ0x5ljfAPeAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALwSURBVFjD7ZnbgqMgDIbplF2ZYUTwgL7/k24D1SIEAq2Xm6tW8BOTHwiRMbDb151/aPevG9vtz9/uEhPfnvcjr+E97Bd432S3Xj1tILv+PIB9nsO1GVlko5m4yN4jb+wXbxn0zAo2TwK/786wgEhepHlbNDZOxVR6USw0zhlH/IQARSUOJ6ZAmYzPHOpNPNFXAG1hHIYeYgrU0FHvYpf8DFzELkq1wuArgDCKOfg/noA68A08uRJoTv85+rvr5jogPHeqAhosKjiQVwMVCRwAuFUBIXyCBCoWPTcP5JhuEqCtB25VQB6LIQ9UmBAToL4aCKEb64AymgJ5oKkDdthUSYBLpOsSEPpKCpisIQUgpuz4Qh/r+lNgousSUCNCjIGiBcgrgImuS8AtDuCnQEzZMRDW9aUFOBJAtw3Z800hcA51J5Knp8DJZxpmtznZ9Y4mn/dQr8yL27lJGyng1grUBFC1AikdNgMtAexagdRcfgKNsI+1ibt0IwLO1j7Cuwruk6qBAroEC9SmHGhNgD0kaBBbn1V1FNAcWnBNPAa6Nd/AJVkHXM8jNMkIh32ETmEjCfTKHi24aBKID5fNzuBkjeo6BzxPhnwGm6xemVSk3ujM4XJg3wak07nucmDtqcebpIFmd86gFH7wfTQcru4agIZh5zbfYwfOFUDdAqw5p/CrgaIFWHM0k2MAVEj9o38Bl5rDYyfNC4htguoAzkgRAn2rgRtjy8DBmNUit3YZNz1dlX/lrBHAbFD+A6uA9uH/XMM7QNh2caBm5zSRAg6uRAEzcFWoQdOYq67VlFkKZmlgEw8hxsBGHp19bW52wb6yPGeawNzoUnGNuRGN8oQvdYG5AtmCVTwxoMV3i7QPshyegdofF/z2Y8oWdNI54NQakN2CjKkPSqbbu7yQqF5F3WbBhHYc2e/HfP2Idwhc3o7CuJ/Bz7K1zWUhJzMnljMojIele544uWSD7x3I8ddfefvjgn8rtatx/7jALv388Q/tbJQdeb9pdQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowMS0wNjowMCFb13IAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},isJw:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAXVBMVEX//////e/9+L/884/78X/++9/77mD44wD67FD++s/99q/45RD89J/dygTBsQfPvgX55yCKgA58cxBTThVFQRccHBxvZxKzpQk4NRnq1wIqKBr66kCmmAthWhOYjAzzbixRAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALzSURBVFjD7dlRg6IgEABg2+7O20oMMFFD///PPIEwhIGBzcebp93EL4RRRqoqFaev868P4/x1qmz8/lMfEn+/jXe5HuOtcVPeN9qsIa9o0aaXFbzHHcp49/Ci4z0VTeyc66m6wUdaNjwSMfQCPu9cQRMy0qRmYmJQP5/VM/xQTDing4bn3gFQZHKwGIJj0D9ObQQj0WSAMtEPjncxBJlqyMZtfvbgJGxSkll1PgNUvRic/7sdyJyxUd+cCfLd/xT8u66HPFB9b58FcmhWYJBmgwQFWwUuWaCaPoGC5OF9bxykUN4EoMwHlyyQ+skQBwmUiAHIjgbV1HV54OjdAnGQ54E1dKsE4OTldQpUbUcMDJ4hCRDKbB9s/Lz+FAzyOgUyIBF9UJSANAMM8joFLv4EfgpCme2D6rk+lYAdAuplSO5PcsHBzTsRfHsI9qbS4DaGYNXbDpm6B7tkmlzOeXgQA5dSkCEgKQWxPCwGJQLWpSB2L79ALuT6bKK63PDAQcp1emdBTVHVYqAusFS2EQ3NAdioAk3NramqagzkWy7oq6E+qJ/5XH005oHzvoc86GFre6gzrENBk9mdVEPUC2AMp0UOapAZmNcxcH8zxCvY4OkVKUXyA68cDgebMhAv5+rDwdy3HhMjDnI7OC0hQXMd64FtqOsCkAMXZFtYcMgAWQmY855CjwZFCZjzajZ2DkhoGM0bnHJeHuuRv0FoESQbOACbENALeN1SzmUabDmfJXAqDG5DFb/kaCBgdFL+g1mgXMc/duAnoFp2YZA99mUiBrZ6i0LdgTMBQx3qYrtrOdssiZA4WOQBog8Wenj1tei7S60r0+tOE9Aw6lKcQcMIznIPP+qc0BtkE7TjCYESXi3CNsDjcA8y87pglh+eDqcRi4F96YTYcCqmu7NluvzUc8Xne1O3OGHc2F7Zz9u280feluDX07Yxbu7g17a1jFUhu+A7S8fF27qnwSCnojWtnXS8ffjjgrkqYrPR/rhw7M8f/wBpdiams2ROewAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wNlQxMjoyNzowNS0wNjowMNUU82EAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDYtMTNUMTg6MzY6MzMtMDU6MDBQX4edAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},j9hV:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTrainArrivalData=void 0;var i=a("u7XG"),n=a("Tqq3"),r=a("SsW3"),o=a("1Tf0"),s=a("ZuAq"),l=a("F9z5"),A=a("axR1"),d=a("hYaO"),c=a("K+rZ"),u=a("tcnj"),g=i.config.colorToObjMap,p=i.config.proxyUrl,f=i.config.apiKey,m=i.config.timerInterval;t.fetchTrainArrivalData=function(t,a){var i;void 0!==a.stationid&&e.ajax({url:(i=a.stationid,p+"https://lapi.transitchicago.com/api/1.0/ttarrivals.aspx?key="+f+"&mapid="+i+"&outputType=JSON"),type:"GET",async:!0}).done(function(i){var p=i.ctatt.eta,f=[];e(p).each(function(e,t){parseInt(t.stpId,10)===a.mapId&&f.push(t)}),n.helpers.showFooter(),n.helpers.hideLoader(),r.arrivalsStorage.clearOldTrainArrivalData(),function(t,a){var i=void 0;0===t.length?(i="<li class='arrival-time' style='background-color: #e60000;'><div class='line-detail'></div><div class='station-arrival'><span title='Station Name'>No Train Predictions Available</span></div></li>",e("ul.trainData-"+a).append(i),d.arrivalsHelper.showDataSectionFor(a)):(e(t).each(function(t,p){var f,h,v=void 0,S=r.arrivalsStorage.getArrivalPredictions(p,a),C=o.timeHelper.parseCtaTime(p.arrT),w=o.timeHelper.parseCtaTime(p.prdt),b=(n.helpers.now()-w)/60/1e3,D=(0,l.getColorForPercentage)(1-b/2),y=A.settingsStorage.getSetting("padArrivals"),T=C-n.helpers.now()-1e3*y,B="",R="countdown-"+t+"-"+a,E="confidence-"+t+"-"+a,M=d.arrivalsHelper.airportIcon(p);if(void 0===S)B="<span class='diff'> 0</span>";else{var N=o.timeHelper.parseCtaTime(S);f=o.timeHelper.getTimeDiff(C,N)/1e3,h=o.timeHelper.calcPercentChange(N,C),B="<span title='diff since last prediction' class='diff' style='color: "+(0,s.diffColor)(h)+"'> "+(0,s.formatDiff)(f)+"</span>"}i="<li class='arrival-time filter-"+p.rt+"' style='background-color: #"+d.arrivalsHelper.trainColor(p)+";'><div class='line-detail' data-line-name='"+g[p.rt].name+"' data-run-number='"+p.rn+"'><span title='L Train Color' class='route-name'>"+d.arrivalsHelper.routeName(p)+"</span><span title='Run Number' class='train-run-number'> #"+p.rn+"</span></div><div class='station-arrival'><span title='Station Name'>"+p.destNm+"</span>"+M+"<canvas title='Train Compass Heading' class='compass' height='50' width='50'></canvas><span title='confidence rating' class='confidence "+E+"' style='color: "+D+";'> "+b.toFixed(2)+"</span>"+B+"<span title='delayed flag' style='color: red;'> "+d.arrivalsHelper.delayedText(p)+"</span><span title='time until arrival' class='countdown "+R+"'></span></div></li>",e("ul.trainData-"+a).append(i),setInterval(function(){function t(){var t=T-=m,a=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0),n=d.arrivalsHelper.isDelayed(p);e("."+R).text((0,c.displayCountdown)(n,a,i)),e("."+E).text(v)}return t(),t}(),m);var I=e("ul.trainData-"+a).find("li").last()[0];(0,u.setCompass)(p.heading,I),n.helpers.hideLoader(),d.arrivalsHelper.showTrainFilterFor(a),d.arrivalsHelper.showDataSectionFor(a),d.arrivalsHelper.handleShowHideArrivals(a,A.settingsStorage.lineFilterSetting(a))}),d.arrivalsHelper.setRideListeners())}(f,t),A.settingsStorage.settingOff("trainHeading")&&e("canvas.compass").addClass("hidden"),A.settingsStorage.settingOff("trainConfidence")&&e("span.confidence").addClass("hidden"),A.settingsStorage.settingOff("predictionDiff")&&e("span.diff").addClass("hidden"),A.settingsStorage.settingOff("trainRunNumber")&&e("span.train-run-number").addClass("hidden"),A.settingsStorage.settingOff("routeName")&&e("span.route-name").addClass("hidden")}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a),alert("train arrival endpoint failed, check console.log")}).always(function(){n.helpers.unhidePageContent()})}}).call(this,a("EVdn"))},kxu7:function(e,t,a){},m5Zo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.followersStorage=void 0;var i=a("4iSt"),n=a("Tqq3"),r="cta-current-ride",o="cta-ride-history",s=i.storageBase.CtaStorage,l={addRideToHistory:function(e){var t=this.rideHistory();t.rides.push(e),s.setItem(o,JSON.stringify(t))},rideHistory:function(){return JSON.parse(s.getItem(o))||{rides:[],updatedAt:n.helpers.now()}},currentRide:function(){return JSON.parse(s.getItem(r))},deleteByIndex:function(e){var t=this.rideHistory();-1<e&&t.rides.splice(e,1),s.setItem(o,JSON.stringify(t))},lastEtaRaw:function(){return this.currentRide()?this.currentRide().lastEtaRaw:"unknown"},hasCurrentRide:function(){return null!==this.currentRide()},currentRideStale:function(){return 36e5<n.helpers.now()-this.currentRide().boardedAt},arrived:function(){return!!this.currentRide()&&"ARRIVED"===this.currentRide().lastEta},clearCurrentRideKey:function(){s.removeItem(r)},updateCurrentRide:function(e,t){var a=this.currentRide();a.updatedAt=n.helpers.now(),a[e]=t,s.setItem(r,JSON.stringify(a))},setCurrentRide:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.clearCurrentRideKey();var t={};t.boardedAt=e.boardedAt,t.destinationStation=e.destinationStation,t.lineName=e.lineName,t.runNum=e.runNum,t.destinationName=e.destinationName,t.updatedAt=n.helpers.now(),t.lastEta="unknown",t.lastEtaRaw="unknown";var a=t;this.addRideToHistory(a),t.runData=e.runData,s.setItem(r,JSON.stringify(t))}};t.followersStorage=l},pfZt:function(e,t,a){},qAtC:function(e,t,a){},rAE1:function(e,t,a){},tYa2:function(e,t,a){},tcnj:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setCompass=function(t,a){var i=parseInt(t,10),n=e(a).find("canvas.compass")[0].getContext("2d"),r=.0174533*(i-90),o=n.canvas.width/2,s=n.canvas.height/2,l=.8*o,A=o+l*Math.cos(r),d=s+l*Math.sin(r),c=o-2;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.beginPath(),n.strokeStyle="rgba(0,0,0,0.25)",n.lineWidth=1,n.fillStyle="rgba(255,255,255,0.9)",n.arc(o,s,c,0,2*Math.PI),n.fill(),n.stroke(),n.beginPath(),n.strokeStyle="rgba(255,0,0,0.5)",n.lineCap="round",n.moveTo(o,s),n.lineTo(A,d),n.moveTo(A,d),n.lineWidth=2,n.fillStyle="#999",n.stroke()}}).call(this,a("EVdn"))},tjUo:function(e,t,a){"use strict";var i,n=(i=a("EVdn"))&&i.__esModule?i:{default:i},r=a("KWM7");a("KWM7"),a("9d8Q"),a("U0JU"),a("WjO1"),a("vGLT"),a("NinT"),a("csdy"),a("PGGC"),a("zmLm"),a("pfZt"),a("5EEt"),a("COMZ"),a("rAE1"),a("Vr/x"),a("tYa2"),a("qAtC"),a("KDmf"),a("0d1/"),a("d/My"),a("kxu7"),a("7aQF"),a("PDXk"),a("eD5A"),a("HR/W"),a("H5G7"),a("aQx1"),a("N5v+"),a("dk1r"),a("u7XG"),a("Tqq3"),a("unZK"),a("1Tf0"),a("XKyZ"),a("hYaO"),a("0qHD"),a("zPNi"),a("tcnj"),a("F9z5"),a("ZuAq"),a("K+rZ"),a("26kM"),a("4iSt"),a("VpB4"),a("SsW3"),a("axR1"),a("m5Zo"),a("j9hV"),a("vnJK"),a("up33"),a("/HHy"),a("P8MM"),document.addEventListener("DOMContentLoaded",function(){(0,n.default)(window).scroll(function(e){var t=(0,n.default)(".fixed-element"),a="fixed"===t.css("position");61<(0,n.default)(this).scrollTop()&&!a&&t.css({position:"fixed",top:"0px"}),(0,n.default)(this).scrollTop()<61&&a&&t.css({position:"static",top:"0px"})}),(0,r.ctaCommuteOptimizer)()})},u7XG:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var i=a("aQx1"),n={commutes:["am","pm"],timerInterval:1e3,reloadDefaultWait:700,lines:["Red","Blue","G","Brn","P","Pexp","Y","Pink","Org"],airportBoundLines:{Blue:1,Org:5},proxyUrl:"https://can-cors.herokuapp.com/",apiKey:"d37555ccc09141848543ab21e287b560",colorToRouteMap:{"62361b":"brown",522398:"purple",f9461c:"orange",c60c30:"red",f9e300:"yellow","00a1de":"blue","009b3a":"green",e27ea6:"pink"},colorToObjMap:{brown:i.routes.brownLine,Brn:i.routes.brownLine,purple:i.routes.purpleLine,P:i.routes.purpleLine,Pexp:i.routes.purpleLineExpress,orange:i.routes.orangeLine,Org:i.routes.orangeLine,red:i.routes.redLine,Red:i.routes.redLine,yellow:i.routes.yellowLine,Y:i.routes.yellowLine,blue:i.routes.blueLine,Blue:i.routes.blueLine,green:i.routes.greenLine,G:i.routes.greenLine,pink:i.routes.pinkLine,Pink:i.routes.pinkLine}};t.config=n},unZK:function(e,t,a){},up33:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.followersData=void 0;var i=a("u7XG"),n=a("Tqq3"),r=a("m5Zo"),o=a("SsW3"),s=a("1Tf0"),l=a("0qHD"),A=i.config.proxyUrl,d=i.config.apiKey,c="https://lapi.transitchicago.com/api/1.0/ttfollow.aspx";function u(e){return""+A+c+"?key="+d+"&runnumber="+e+"&outputType=JSON"}function g(e,t){return parseInt(e,10)===parseInt(t,10)}function p(e){return"502"===e.errCd}function f(t){return e(".boarded-run-number").data("runNumber")===t}function m(t){e(".boarded-run-number").removeData("runNumber"),r.followersStorage.clearCurrentRideKey(),clearInterval(t)}function h(t,a,i){e("img.boarding-close-icon").off("click"),e("img.boarding-close-icon").click(function(){confirm("Are you sure you want to get off "+i+" train #"+a+"?")&&(e(".boarded-wrapper").addClass("hidden"),m(t))})}var v={destinationStation:function(){return o.arrivalsStorage.fetchDestinationStationDataFor(n.helpers.selectedCommute())},hasRecentRide:function(){if(r.followersStorage.hasCurrentRide()&&r.followersStorage.currentRideStale())r.followersStorage.clearCurrentRideKey();else if(r.followersStorage.hasCurrentRide()){var t=r.followersStorage.currentRide();e(".boarded-line-name").text(t.lineName),e(".boarded-run-number").text("#"+t.runNum),e(".boarded-destination-station").text(t.destinationName),e(".boarded-run-number").data("runNumber",t.runNum),e(".boarded-run-number").data("lineName",t.lineName),r.followersStorage.arrived()?(e(".eta-boarded").text(t.lastEta),l.followersHelper.setArrived()):(l.followersHelper.showRideBanner(),e(".eta-boarded").text("ETA: "+t.lastEta)),h(this.followerDataStartPoll(),t.runNum,t.lineName)}},followerDataStartPoll:function(){var t=this;return t.runData=r.followersStorage.currentRide().runNum,setInterval(function(){function a(){e.ajax({url:u(t.runData),type:"GET",async:!0}).done(function(a){var i=a.ctatt,n=t.getEta(i);e("span.eta-boarded").text(n)}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}return a(),a}(),6e4)},hasPredictionDataForStop:function(t){var a=this;return a.hasEta=!1,e(t.eta).each(function(e,t){g(a.destinationStation().stationid,parseInt(t.staId,10))&&(a.hasEta=!0)}),a.hasEta},confirmBoard:function(t,a,i){if(confirm(function(t,a){return f(t)?"You are already riding CTA "+a+" run #"+t+".":e(".boarded-wrapper").is(":visible")?"You are currently riding "+e(".boarded-run-number").data("lineName")+" #"+e(".boarded-run-number").data("runNumber")+", switch trains and board "+a+" #"+t+" instead?":"Board CTA "+a+" run #"+t+"?"}(t,a))){if(f(t))return;m(window.CTAcurrentRideTimer);var o=this.getEta(i);e(".eta-boarded").text(o),e(".boarded-destination-station").text(this.destinationStation().stationName),e(".boarded-line-name").text(a),e(".boarded-run-number").text("#"+t),e(".boarded-run-number").data("runNumber",t),e(".boarded-run-number").data("lineName",a),r.followersStorage.setCurrentRide({destinationStation:this.destinationStation().stationid,runData:i,runNum:t,boardedAt:n.helpers.now(),lineName:a,destinationName:this.destinationStation().stationName}),l.followersHelper.showRideBanner();var s=this.followerDataStartPoll();h(window.CTAcurrentRideTimer=s,t,a)}},getEta:function(t){if(p(t))return"ETA: unknown";if(this.hasPredictionDataForStop(t)){var a=this;return a.estEta=void 0,e(t.eta).each(function(e,t){g(a.destinationStation().stationid,parseInt(t.staId,10))&&(a.estEta=s.timeHelper.printTime(t.arrT),r.followersStorage.hasCurrentRide()&&(r.followersStorage.updateCurrentRide("lastEtaRaw",s.timeHelper.parseCtaTime(t.arrT).getTime()),r.followersStorage.updateCurrentRide("lastEta",s.timeHelper.printTime(t.arrT))))}),l.followersHelper.showRideBanner(),"ETA: "+a.estEta}if(r.followersStorage.hasCurrentRide()){var i=r.followersStorage.lastEtaRaw();return"unknown"===i||i>n.helpers.now()?void 0:(r.followersStorage.updateCurrentRide("lastEta","ARRIVED"),r.followersStorage.updateCurrentRide("lastEtaRaw","ARRIVED"),l.followersHelper.setArrived(),"ARRIVED")}},boardTrain:function(t,a){var i=this;i.runNum=t,i.lineName=a,e.ajax({url:u(t),type:"GET",async:!0}).done(function(e){var a=e.ctatt;i.confirmBoard(i.runNum,i.lineName,a),f(t)||p(a)||this.hasPredictionDataForStop(a)}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}};t.followersData=v}).call(this,a("EVdn"))},vnJK:function(e,t,a){},xepC:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAPFBMVEX////78fLwx8zmnaXij5j44+XbdH/FIDLXZnL01djtub/JLj/pq7LMPEzUWGXQSljikJnxx8z01dnegoyAZd6MAAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkIc7FyRwAAALlSURBVFjD7ZnRgqMgDEVhWJERRaL//69bQC1CIND6OPepFXrE5CKBMubEf8S/LyV+ODs1yPERqd/Am/QzvJdmx/sluy3m0Ep2nV7ApcyxAjaWaIPZquJvNGcz3rKKgVU0zAr/nWBYQrSt0oK4wMZpmMkvKk7jvCwSJwSoGnE4MQfqbHxgT2WRWBqAsjIOoIeYA4XrKE6za3sHcnWa0jjPQQPQjWKIvm83oIhi4+7cCITbd4t+HsehDejuOzcBAcsKDrTNQEMCVwfcm4AufYoEGpbctwy0mG8yoGwH7k1Am5qhDDSYETOgeBroUre1AXUyBcpAaAOO2FTJgDzxdQ3o+moKmL1DKkDM2emFJfX1t8DM1zWgQIyYAlUP0DYAM1/XgHuawG+BmLNToHuv8x7gRgD9MiTvP4qBQ+w7ld09B86h0oBTQ7bqXU2h7qEe2VaXc8gbKeDeCxQE0PQCKR92AyUBHHuB1Fw+gKDk691kfbmRAAcpX+mdlA1F1UoBfYHl3GY8aMqAiyvQXG5DVTVSQLi84JtsCvTvfHCXdBtwuo8QshGu5wi9wzYSGJy9SReiWSEx5LscXJAF6usS8D4ZyhVsvonAS5F20ZXD48ClD0iXc+PjwNZdT5CmgXAGZzUG3/i+Gq5Qjx1AYNi+LfQ4gUMDUPQAW/Yp9mmg6gG2bM30FgGNzbW8gbxl8zhqeAMtZr0LOCCHEOhTrRZA1oErwISezhTCdISq/MhFEcBiUv6ATUD5in+p4ROgW3ZxoGD3MpECrv6Iws3AyaByTVvpdK3lmKUiSQO7eAgxBXby6Opr97PLrSv8mGkKC6MvxQUWRjTLM/6qi+QPyDh24okBJb5a5H2Q1+EdKMJ2ISw/UFfUSZSAc29CTkUV0xLlff+UFxPN+3O3YWJdW3ZxzdeveJfBXfaPg/Ewg49ja1mqQm6CG8vLV7zR0b3NglzTGnpHdjzS+vGfC+GpzOnG888F9ujfH/8BpkuVY7X+EkEAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDMtMDZUMTI6Mjc6MDQtMDY6MDBzY/jVAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTA2LTEzVDE4OjM2OjMzLTA1OjAwUF+HnQAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAAASUVORK5CYII="},yCDQ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAPFBMVEX////w+f3D5/aW1e+Hz+3h8/ppxOkPoNtavubS7fi04fQept2l2/EtrOBLuOQ8suKH0O2l2/Lh8/t4yutopZv5AAAAAWJLR0QAiAUdSAAAAAd0SU1FB+EGDRIkILnC+YoAAALjSURBVFjD7ZnRAqwQEIYZ50jZpHr/dz1ha8Uw7HZ5/qvd6EvjxxBjThzEnx8lgLNTf+XwiNQYeJN+hnfo5XgjWW02by1k1ekAzmWOFTCyRCOsVhXv0Zy98JJFbKyibVX4fYJhHaJtlRbEBdZOw0x+UXEa52WROCFA1YjDiTlQZ+0DeyqLxNwAlJV2AN3EHChcRXGaXds7kKvTlMZ5DhqArhVb9H+8AUUUG/fkRiDc/lv09zBsbUD33LUJCFiv4EDbDDQkcHHAvQnouk+RQMOS55aBFvNNBpTtwL0JaFMzlIEGM2IGFE8DIZ3Ey0CdDIEyENqAAzZUMiBPfF0DurqaAmZzSAWIOTu9MKe+/hWY+boGFIgRU6DqAdoGYObrGnBPO/BXIObsFOjmdd4DHAmgX4bk/aYYuMW+U9nTc+AaMg04tWWr3lUU8h7qlW11OYe8kALuvUBBAE0vkPJhN1ASwKEXSI3lNxCUPOYm69ONBLhJeXTvpGxIqhYK6BMs5zbjQVMGnF2C5vo2ZFUDBYTLC77IpkA/54O7pNuA072FkLVwOVvoHTaSwODsUboQrQqJId/l5oIsUF+XgPfBUM5gs9mrkIq0i84cHgfOfUA6nRseB7bueoI0DYQzOIsx+Mb3KLhCPXQAgWH7tlDjBG4NQNEDbNmn2KeBqgfYsjXTYwQ0Ntf8AfKWzeOg4QO0mPUu4IYcQqBvtVgAWQcuABN6OlMI0ztU5VcuigAWO+U/sAkoj/iXCr4BumUXBwp2TxMp4OKPKNwInAwqVzSWTtdajlkqkjSwi4cQU2Anj86+dj+63LrC3yNNYWH0qbjAwoj28opPdZH8ARnHTjwxoMRXi7wOMh3egSJsF8LyA3VFlUQJuPZ2yKkoY5qjft+/5cVE8znU7TZMrGvLLq7x+hPvMrjr/XdSG0bw+9halrKQm+DG8vIZb3R0b7Mg17SE2pEdX+HK1x8XwluZ043qcyz/4OePf371jBg8qOwaAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTAzLTA2VDEyOjI2OjU5LTA2OjAwtZb8TwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNy0wNi0xM1QxODozNjozMi0wNTowMPYojCkAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},zPNi:function(e,t,a){"use strict";(function(e){var t=a("u7XG"),i=a("4iSt"),n=a("dk1r"),r=a("SsW3"),o=a("axR1"),s=a("Tqq3"),l=t.config.lines,A=t.config.commutes,d=i.storageBase.CtaStorage,c=s.helpers.reload;function u(t,a){2<arguments.length&&void 0!==arguments[2]&&arguments[2],new Awesomplete(t,{minChars:1,maxItems:20,autoFirst:!0,list:n.lStopsRaw,data:function(t,a){var i=[];return e(l).each(function(e,a){1===t[a]&&i.push(a)}),{label:t.STOP_NAME,value:{name:t.STOP_NAME,mapId:t.STOP_ID,stationid:t.MAP_ID,activeLines:i,stationName:t.STATION_NAME}}},replace:function(e){this.input.value=e.label,o.settingsStorage.clearFilterCache(a)}})}e().ready(function(){e(A).each(function(t,a){var i,n,o;(function(t){var a,i,n=document.getElementById(t+"-station-search"),o=t+"-commute-station",l=s.helpers.oppositeCommute(t)+"-destination-station";a=t,i=o,null===d.getItem(i)?(e("#am-station-search")[0].placeholder="Your AM Station",e("#pm-station-search")[0].placeholder="Your PM Station",e("#configure-commute").removeClass("hidden"),e(".all-data-"+a).removeClass("hidden"),e(".trainData-"+a).addClass("hidden")):r.arrivalsStorage.currentCommuteTypeNotSet(a)||e(".switch.switch-horizontal").removeClass("hidden"),u(n,t),Awesomplete.$.bind(n,{"awesomplete-selectcomplete":function(t){var a=t.text.label,i=t.text.value;e("span."+o+"-label").empty(),e("span."+o+"-label").text(a);var n={mapId:i.mapId,stationid:i.stationid,stopName:a,activeLines:i.activeLines,stationName:i.stationName};d.setItem(o,JSON.stringify(n)),d.setItem(l,JSON.stringify(n)),r.arrivalsStorage.clearOldTrainArrivalData(),c({delay:0})}})})(a),i=a,n=document.getElementById(i+"-destination-station"),o=i+"-destination-station",u(n,i),Awesomplete.$.bind(n,{"awesomplete-selectcomplete":function(t){var a=t.text.label,i=t.text.value;e("span."+o+"-label").empty(),e("span."+o+"-label").text(a);var n={mapId:i.mapId,stationid:i.stationid,stopName:a,activeLines:i.activeLines,stationName:i.stationName};d.setItem(o,JSON.stringify(n)),r.arrivalsStorage.clearOldTrainArrivalData(),c({delay:0})}})})})}).call(this,a("EVdn"))},zmLm:function(e,t,a){}},[["tjUo",1,0,8,3,6,7]]]);